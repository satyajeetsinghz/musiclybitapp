(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var cd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function IA(){if(Xy)return cl;Xy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var $y;function CA(){return $y||($y=1,cd.exports=IA()),cd.exports}var j=CA(),hd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function DA(){if(Zy)return wt;Zy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,W={};function Y(D,Z,ot){this.props=D,this.context=Z,this.refs=W,this.updater=ot||L}Y.prototype.isReactComponent={},Y.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},Y.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ct(){}ct.prototype=Y.prototype;function lt(D,Z,ot){this.props=D,this.context=Z,this.refs=W,this.updater=ot||L}var st=lt.prototype=new ct;st.constructor=lt,G(st,Y.prototype),st.isPureReactComponent=!0;var bt=Array.isArray,yt={H:null,A:null,T:null,S:null},At=Object.prototype.hasOwnProperty;function M(D,Z,ot,et,nt,Rt){return ot=Rt.ref,{$$typeof:r,type:D,key:Z,ref:ot!==void 0?ot:null,props:Rt}}function w(D,Z){return M(D.type,Z,void 0,void 0,void 0,D.props)}function b(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return Z[ot]})}var O=/\/+/g;function P(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):Z.toString(36)}function R(){}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function he(D,Z,ot,et,nt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case r:case t:St=!0;break;case A:return St=D._init,he(St(D._payload),Z,ot,et,nt)}}if(St)return nt=nt(D),St=et===""?"."+P(D,0):et,bt(nt)?(ot="",St!=null&&(ot=St.replace(O,"$&/")+"/"),he(nt,Z,ot,"",function(ne){return ne})):nt!=null&&(b(nt)&&(nt=w(nt,ot+(nt.key==null||D&&D.key===nt.key?"":(""+nt.key).replace(O,"$&/")+"/")+St)),Z.push(nt)),1;St=0;var fe=et===""?".":et+":";if(bt(D))for(var jt=0;jt<D.length;jt++)et=D[jt],Rt=fe+P(et,jt),St+=he(et,Z,ot,Rt,nt);else if(jt=V(D),typeof jt=="function")for(D=jt.call(D),jt=0;!(et=D.next()).done;)et=et.value,Rt=fe+P(et,jt++),St+=he(et,Z,ot,Rt,nt);else if(Rt==="object"){if(typeof D.then=="function")return he(ye(D),Z,ot,et,nt);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return St}function tt(D,Z,ot){if(D==null)return D;var et=[],nt=0;return he(D,et,"","",function(Rt){return Z.call(ot,Rt,nt++)}),et}function gt(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qt(){}return wt.Children={map:tt,forEach:function(D,Z,ot){tt(D,function(){Z.apply(this,arguments)},ot)},count:function(D){var Z=0;return tt(D,function(){Z++}),Z},toArray:function(D){return tt(D,function(Z){return Z})||[]},only:function(D){if(!b(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=Y,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=lt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,Z,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=G({},D.props),nt=D.key,Rt=void 0;if(Z!=null)for(St in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(nt=""+Z.key),Z)!At.call(Z,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Z.ref===void 0||(et[St]=Z[St]);var St=arguments.length-2;if(St===1)et.children=ot;else if(1<St){for(var fe=Array(St),jt=0;jt<St;jt++)fe[jt]=arguments[jt+2];et.children=fe}return M(D.type,nt,void 0,void 0,Rt,et)},wt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,Z,ot){var et,nt={},Rt=null;if(Z!=null)for(et in Z.key!==void 0&&(Rt=""+Z.key),Z)At.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=Z[et]);var St=arguments.length-2;if(St===1)nt.children=ot;else if(1<St){for(var fe=Array(St),jt=0;jt<St;jt++)fe[jt]=arguments[jt+2];nt.children=fe}if(D&&D.defaultProps)for(et in St=D.defaultProps,St)nt[et]===void 0&&(nt[et]=St[et]);return M(D,Rt,void 0,void 0,null,nt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=b,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:gt}},wt.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},wt.startTransition=function(D){var Z=yt.T,ot={};yt.T=ot;try{var et=D(),nt=yt.S;nt!==null&&nt(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,ht)}catch(Rt){ht(Rt)}finally{yt.T=Z}},wt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},wt.use=function(D){return yt.H.use(D)},wt.useActionState=function(D,Z,ot){return yt.H.useActionState(D,Z,ot)},wt.useCallback=function(D,Z){return yt.H.useCallback(D,Z)},wt.useContext=function(D){return yt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Z){return yt.H.useDeferredValue(D,Z)},wt.useEffect=function(D,Z){return yt.H.useEffect(D,Z)},wt.useId=function(){return yt.H.useId()},wt.useImperativeHandle=function(D,Z,ot){return yt.H.useImperativeHandle(D,Z,ot)},wt.useInsertionEffect=function(D,Z){return yt.H.useInsertionEffect(D,Z)},wt.useLayoutEffect=function(D,Z){return yt.H.useLayoutEffect(D,Z)},wt.useMemo=function(D,Z){return yt.H.useMemo(D,Z)},wt.useOptimistic=function(D,Z){return yt.H.useOptimistic(D,Z)},wt.useReducer=function(D,Z,ot){return yt.H.useReducer(D,Z,ot)},wt.useRef=function(D){return yt.H.useRef(D)},wt.useState=function(D){return yt.H.useState(D)},wt.useSyncExternalStore=function(D,Z,ot){return yt.H.useSyncExternalStore(D,Z,ot)},wt.useTransition=function(){return yt.H.useTransition()},wt.version="19.0.0",wt}var Wy;function em(){return Wy||(Wy=1,hd.exports=DA()),hd.exports}var Lt=em(),fd={exports:{}},hl={},dd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function NA(){return Jy||(Jy=1,function(r){function t(tt,gt){var ht=tt.length;tt.push(gt);t:for(;0<ht;){var qt=ht-1>>>1,D=tt[qt];if(0<l(D,gt))tt[qt]=gt,tt[ht]=D,ht=qt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var gt=tt[0],ht=tt.pop();if(ht!==gt){tt[0]=ht;t:for(var qt=0,D=tt.length,Z=D>>>1;qt<Z;){var ot=2*(qt+1)-1,et=tt[ot],nt=ot+1,Rt=tt[nt];if(0>l(et,ht))nt<D&&0>l(Rt,et)?(tt[qt]=Rt,tt[nt]=ht,qt=nt):(tt[qt]=et,tt[ot]=ht,qt=ot);else if(nt<D&&0>l(Rt,ht))tt[qt]=Rt,tt[nt]=ht,qt=nt;else break t}}return gt}function l(tt,gt){var ht=tt.sortIndex-gt.sortIndex;return ht!==0?ht:tt.id-gt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],A=1,I=null,V=3,L=!1,G=!1,W=!1,Y=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function st(tt){for(var gt=n(_);gt!==null;){if(gt.callback===null)s(_);else if(gt.startTime<=tt)s(_),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=n(_)}}function bt(tt){if(W=!1,st(tt),!G)if(n(p)!==null)G=!0,ye();else{var gt=n(_);gt!==null&&he(bt,gt.startTime-tt)}}var yt=!1,At=-1,M=5,w=-1;function b(){return!(r.unstable_now()-w<M)}function C(){if(yt){var tt=r.unstable_now();w=tt;var gt=!0;try{t:{G=!1,W&&(W=!1,ct(At),At=-1),L=!0;var ht=V;try{e:{for(st(tt),I=n(p);I!==null&&!(I.expirationTime>tt&&b());){var qt=I.callback;if(typeof qt=="function"){I.callback=null,V=I.priorityLevel;var D=qt(I.expirationTime<=tt);if(tt=r.unstable_now(),typeof D=="function"){I.callback=D,st(tt),gt=!0;break e}I===n(p)&&s(p),st(tt)}else s(p);I=n(p)}if(I!==null)gt=!0;else{var Z=n(_);Z!==null&&he(bt,Z.startTime-tt),gt=!1}}break t}finally{I=null,V=ht,L=!1}gt=void 0}}finally{gt?O():yt=!1}}}var O;if(typeof lt=="function")O=function(){lt(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=C,O=function(){R.postMessage(null)}}else O=function(){Y(C,0)};function ye(){yt||(yt=!0,O())}function he(tt,gt){At=Y(function(){tt(r.unstable_now())},gt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(tt){tt.callback=null},r.unstable_continueExecution=function(){G||L||(G=!0,ye())},r.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<tt?Math.floor(1e3/tt):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(tt){switch(V){case 1:case 2:case 3:var gt=3;break;default:gt=V}var ht=V;V=gt;try{return tt()}finally{V=ht}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(tt,gt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ht=V;V=tt;try{return gt()}finally{V=ht}},r.unstable_scheduleCallback=function(tt,gt,ht){var qt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?qt+ht:qt):ht=qt,tt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,tt={id:A++,callback:gt,priorityLevel:tt,startTime:ht,expirationTime:D,sortIndex:-1},ht>qt?(tt.sortIndex=ht,t(_,tt),n(p)===null&&tt===n(_)&&(W?(ct(At),At=-1):W=!0,he(bt,ht-qt))):(tt.sortIndex=D,t(p,tt),G||L||(G=!0,ye())),tt},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(tt){var gt=V;return function(){var ht=V;V=gt;try{return tt.apply(this,arguments)}finally{V=ht}}}}(md)),md}var t_;function xA(){return t_||(t_=1,dd.exports=NA()),dd.exports}var gd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function OA(){if(e_)return Fe;e_=1;var r=em();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Fe.flushSync=function(p){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:V,fetchPriority:L}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:V,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Fe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,_){return p(_)},Fe.useFormState=function(p,_,A){return f.H.useFormState(p,_,A)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var n_;function MA(){if(n_)return gd.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=OA(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function VA(){if(i_)return hl;i_=1;var r=xA(),t=em(),n=MA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),L=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),bt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function At(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case _:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L:return(e.displayName||"Context")+".Provider";case V:return(e._context.displayName||"Context")+".Consumer";case G:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ct:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case lt:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,O,P;function R(e){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",P=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+e+P}var ye=!1;function he(e,i){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){B=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),x=E.split(`
`);for(h=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===S.length||h===x.length)for(o=S.length-1,h=x.length-1;1<=o&&0<=h&&S[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(S[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||S[o]!==x[h]){var F=`
`+S[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function gt(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function qt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(ht(e)!==e)throw Error(s(188))}function Z(e){var i=e.alternate;if(!i){if(i=ht(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),e;if(d===o)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ot(e),i!==null)return i;e=e.sibling}return null}var et=Array.isArray,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function jt(e){return{current:e}}function ne(e){0>fe||(e.current=St[fe],St[fe]=null,fe--)}function Qt(e,i){fe++,St[fe]=e.current,e.current=i}var Xe=jt(null),di=jt(null),yn=jt(null),$i=jt(null);function Zi(e,i){switch(Qt(yn,i),Qt(di,e),Qt(Xe,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Sy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Sy(e),i=wy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Xe),Qt(Xe,i)}function mi(){ne(Xe),ne(di),ne(yn)}function ro(e){e.memoizedState!==null&&Qt($i,e);var i=Xe.current,a=wy(i,e.type);i!==a&&(Qt(di,e),Qt(Xe,a))}function zs(e){di.current===e&&(ne(Xe),ne(di)),$i.current===e&&(ne($i),sl._currentValue=Rt)}var Bs=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Hs=r.unstable_cancelCallback,hh=r.unstable_shouldYield,so=r.unstable_requestPaint,nn=r.unstable_now,Bl=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Hl=r.unstable_LowPriority,ao=r.unstable_IdlePriority,fh=r.log,Wr=r.unstable_setDisableYieldValue,Wi=null,He=null;function oo(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}function Hn(e){if(typeof fh=="function"&&Wr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Wi,e)}catch{}}var $e=Math.clz32?Math.clz32:Fl,lo=Math.log,ql=Math.LN2;function Fl(e){return e>>>=0,e===0?32:31-(lo(e)/ql|0)|0}var qn=128,Ji=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Vn(a):(d&=E,d!==0?o=Vn(d):e||(v=E&~v,v!==0&&(o=Vn(v))))):(E=a&~h,E!==0?o=Vn(E):d!==0?o=Vn(d):e||(v=a&~v,v!==0&&(o=Vn(v)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function tr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var e=qn;return qn<<=1,(qn&4194176)===0&&(qn=128),e}function er(){var e=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),e}function Fs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function le(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gl(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,x=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-$e(a),X=1<<F;E[F]=0,S[F]=-1;var B=x[F];if(B!==null)for(x[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&nr(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function nr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-$e(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function ir(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-$e(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:qy(e.type))}function rr(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Fn,ve="__reactProps$"+Fn,pi="__reactContainer$"+Fn,Jr="__reactEvents$"+Fn,Gs="__reactListeners$"+Fn,Gn="__reactHandles$"+Fn,co="__reactResources$"+Fn,sr="__reactMarker$"+Fn;function ts(e){delete e[Ce],delete e[ve],delete e[Jr],delete e[Gs],delete e[Gn]}function kn(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Cy(e);e!==null;){if(a=e[Ce])return a;e=Cy(e)}return i}e=a,a=e.parentNode}return null}function yi(e){if(e=e[Ce]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ar(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function or(e){var i=e[co];return i||(i=e[co]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(e){e[sr]=!0}var ho=new Set,Qs={};function un(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Qs[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Yl(e){return Bs.call(mo,e)?!0:Bs.call(fo,e)?!1:dh.test(e)?mo[e]=!0:(fo[e]=!0,!1)}function lr(e,i,a){if(Yl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ur(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function vn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mh(e){var i=Xl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function es(e){e._valueTracker||(e._valueTracker=mh(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Xl(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function ie(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cr(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ys(e,v,Ze(i)):a!=null?Ys(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function ns(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ys(e,i,a){i==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function is(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function hr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(et(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||gh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function $l(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&po(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&po(e,d,i[d])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Ti(e){var i=yi(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(cr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(s(90));cr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&go(o)}break t;case"textarea":is(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var _o=!1;function Zl(e,i,a){if(_o)return e(i,a);_o=!0;try{var o=e(i);return o}finally{if(_o=!1,(vi!==null||Ei!==null)&&(Hu(),vi&&(i=vi,e=Ei,Ei=vi=null,Ti(i),e)))for(i=0;i<e.length;i++)Ti(e[i])}}function rs(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(cn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){An=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{An=!1}var Kn=null,fr=null,Ai=null;function vo(){if(Ai)return Ai;var e,i=fr,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function Eo(){return!1}function De(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:Eo,this.isPropagationStopped=Eo,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=De(Ft),as=C({},Ft,{view:0,detail:0}),Wl=De(as),Zs,Ws,$n,os=C({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Zs=e.screenX-$n.screenX,Ws=e.screenY-$n.screenY):Ws=Zs=0,$n=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),bn=De(os),Jl=C({},os,{dataTransfer:0}),_h=De(Jl),ls=C({},as,{relatedTarget:0}),Js=De(ls),To=C({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=De(To),tu=C({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=De(tu),vh=C({},Ft,{data:0}),Ao=De(vh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=nu[e])?!!i[e]:!1}function cs(){return bo}var iu=C({},as,{key:function(e){if(e.key){var i=us[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=De(iu),ru=C({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=De(ru),bi=C({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),su=De(bi),au=C({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=De(au),lu=C({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=De(lu),We=C({},Ft,{newState:0,oldState:0}),uu=De(We),cu=[9,13,27,32],Zn=cn&&"CompositionEvent"in window,u=null;cn&&"documentMode"in document&&(u=document.documentMode);var m=cn&&"TextEvent"in window&&!u,y=cn&&(!Zn||u&&8<u&&11>=u),T=" ",U=!1;function H(e,i){switch(e){case"keyup":return cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ee(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function kt(e,i){if(Vt)return e==="compositionend"||!Zn&&H(e,i)?(e=vo(),Ai=fr=Kn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Si(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Ku(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,Wn=null;function wo(e){vy(e,0)}function hu(e){var i=ar(e);if(go(i))return e}function Ym(e,i){if(e==="change")return i}var Xm=!1;if(cn){var Eh;if(cn){var Th="oninput"in document;if(!Th){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Th=typeof $m.oninput=="function"}Eh=Th}else Eh=!1;Xm=Eh&&(!document.documentMode||9<document.documentMode)}function Zm(){ke&&(ke.detachEvent("onpropertychange",Wm),Wn=ke=null)}function Wm(e){if(e.propertyName==="value"&&hu(Wn)){var i=[];Si(i,Wn,e,Xs(e)),Zl(wo,i)}}function iT(e,i,a){e==="focusin"?(Zm(),ke=i,Wn=a,ke.attachEvent("onpropertychange",Wm)):e==="focusout"&&Zm()}function rT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Wn)}function sT(e,i){if(e==="click")return hu(i)}function aT(e,i){if(e==="input"||e==="change")return hu(i)}function oT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:oT;function Ro(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Bs.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tg(e,i){var a=Jm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jm(a)}}function eg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?eg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ks(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ks(e.document)}return i}function Ah(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function lT(e,i){var a=ng(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&eg(i.ownerDocument.documentElement,i)){if(o!==null&&Ah(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=tg(i,d);var v=tg(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uT=cn&&"documentMode"in document&&11>=document.documentMode,ra=null,bh=null,Io=null,Sh=!1;function ig(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sh||ra==null||ra!==Ks(o)||(o=ra,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=Ku(bh,"onSelect"),0<o.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ra)))}function hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var sa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},wh={},rg={};cn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function fs(e){if(wh[e])return wh[e];if(!sa[e])return e;var i=sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return wh[e]=i[a];return e}var sg=fs("animationend"),ag=fs("animationiteration"),og=fs("animationstart"),cT=fs("transitionrun"),hT=fs("transitionstart"),fT=fs("transitioncancel"),lg=fs("transitionend"),ug=new Map,cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(e,i){ug.set(e,i),un(i,[e])}var Sn=[],aa=0,Rh=0;function fu(){for(var e=aa,i=Rh=aa=0;i<e;){var a=Sn[i];Sn[i++]=null;var o=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&hg(a,h,d)}}function du(e,i,a,o){Sn[aa++]=e,Sn[aa++]=i,Sn[aa++]=a,Sn[aa++]=o,Rh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ih(e,i,a,o){return du(e,i,a,o),mu(e)}function dr(e,i){return du(e,null,null,i),mu(e)}function hg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function mu(e){if(50<Wo)throw Wo=0,Vf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var oa={},fg=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=fg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:gt(i)},fg.set(e,i),i)}return{value:e,source:i,stack:gt(i)}}var la=[],ua=0,gu=null,pu=0,Rn=[],In=0,ds=null,wi=1,Ri="";function ms(e,i){la[ua++]=pu,la[ua++]=gu,gu=e,pu=i}function dg(e,i,a){Rn[In++]=wi,Rn[In++]=Ri,Rn[In++]=ds,ds=e;var o=wi;e=Ri;var h=32-$e(o)-1;o&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-$e(i)+h|a<<h|o,Ri=d+e}else wi=1<<d|a<<h|o,Ri=e}function Ch(e){e.return!==null&&(ms(e,1),dg(e,1,0))}function Dh(e){for(;e===gu;)gu=la[--ua],la[ua]=null,pu=la[--ua],la[ua]=null;for(;e===ds;)ds=Rn[--In],Rn[In]=null,Ri=Rn[--In],Rn[In]=null,wi=Rn[--In],Rn[In]=null}var Je=null,Ue=null,Bt=!1,Pn=null,Jn=!1,Nh=Error(s(519));function gs(e){var i=Error(s(418,""));throw No(wn(i,e)),Nh}function mg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ce]=e,i[ve]=o,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Mt(tl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),ns(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),es(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),hr(i,o.value,o.defaultValue,o.children),es(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||by(i.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),o.onScroll!=null&&Mt("scroll",i),o.onScrollEnd!=null&&Mt("scrollend",i),o.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||gs(e)}function gg(e){for(Je=e.return;Je;)switch(Je.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:Je=Je.return}}function Co(e){if(e!==Je)return!1;if(!Bt)return gg(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zf(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ue&&gs(e),gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ue=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ue=null}}else Ue=Je?jn(e.stateNode.nextSibling):null;return!0}function Do(){Ue=Je=null,Bt=!1}function No(e){Pn===null?Pn=[e]:Pn.push(e)}var xo=Error(s(460)),pg=Error(s(474)),xh={then:function(){}};function yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yu(){}function _g(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(yu,yu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===xo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(yu,yu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===xo?Error(s(483)):e}throw Oo=i,xo}}var Oo=null;function vg(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}var ca=null,Mo=0;function _u(e){var i=Mo;return Mo+=1,ca===null&&(ca=[]),_g(ca,e,i)}function Vo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function vu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Eg(e){var i=e._init;return i(e._payload)}function Tg(e){function i(k,N){if(e){var z=k.deletions;z===null?(k.deletions=[N],k.flags|=16):z.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=wr(k,N),k.index=0,k.sibling=null,k}function d(k,N,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<N?(k.flags|=33554434,N):z):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function v(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function E(k,N,z,Q){return N===null||N.tag!==6?(N=Rf(z,k.mode,Q),N.return=k,N):(N=h(N,z),N.return=k,N)}function S(k,N,z,Q){var rt=z.type;return rt===p?F(k,N,z.props.children,Q,z.key):N!==null&&(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===lt&&Eg(rt)===N.type)?(N=h(N,z.props),Vo(N,z),N.return=k,N):(N=Pu(z.type,z.key,z.props,null,k.mode,Q),Vo(N,z),N.return=k,N)}function x(k,N,z,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=If(z,k.mode,Q),N.return=k,N):(N=h(N,z.children||[]),N.return=k,N)}function F(k,N,z,Q,rt){return N===null||N.tag!==7?(N=ws(z,k.mode,Q,rt),N.return=k,N):(N=h(N,z),N.return=k,N)}function X(k,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Rf(""+N,k.mode,z),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return z=Pu(N.type,N.key,N.props,null,k.mode,z),Vo(z,N),z.return=k,z;case g:return N=If(N,k.mode,z),N.return=k,N;case lt:var Q=N._init;return N=Q(N._payload),X(k,N,z)}if(et(N)||At(N))return N=ws(N,k.mode,z,null),N.return=k,N;if(typeof N.then=="function")return X(k,_u(N),z);if(N.$$typeof===L)return X(k,Vu(k,N),z);vu(k,N)}return null}function B(k,N,z,Q){var rt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(k,N,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return z.key===rt?S(k,N,z,Q):null;case g:return z.key===rt?x(k,N,z,Q):null;case lt:return rt=z._init,z=rt(z._payload),B(k,N,z,Q)}if(et(z)||At(z))return rt!==null?null:F(k,N,z,Q,null);if(typeof z.then=="function")return B(k,N,_u(z),Q);if(z.$$typeof===L)return B(k,N,Vu(k,z),Q);vu(k,z)}return null}function q(k,N,z,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(z)||null,E(N,k,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:return k=k.get(Q.key===null?z:Q.key)||null,S(N,k,Q,rt);case g:return k=k.get(Q.key===null?z:Q.key)||null,x(N,k,Q,rt);case lt:var Dt=Q._init;return Q=Dt(Q._payload),q(k,N,z,Q,rt)}if(et(Q)||At(Q))return k=k.get(z)||null,F(N,k,Q,rt,null);if(typeof Q.then=="function")return q(k,N,z,_u(Q),rt);if(Q.$$typeof===L)return q(k,N,z,Vu(N,Q),rt);vu(N,Q)}return null}function at(k,N,z,Q){for(var rt=null,Dt=null,ut=N,mt=N=0,Me=null;ut!==null&&mt<z.length;mt++){ut.index>mt?(Me=ut,ut=null):Me=ut.sibling;var Ht=B(k,ut,z[mt],Q);if(Ht===null){ut===null&&(ut=Me);break}e&&ut&&Ht.alternate===null&&i(k,ut),N=d(Ht,N,mt),Dt===null?rt=Ht:Dt.sibling=Ht,Dt=Ht,ut=Me}if(mt===z.length)return a(k,ut),Bt&&ms(k,mt),rt;if(ut===null){for(;mt<z.length;mt++)ut=X(k,z[mt],Q),ut!==null&&(N=d(ut,N,mt),Dt===null?rt=ut:Dt.sibling=ut,Dt=ut);return Bt&&ms(k,mt),rt}for(ut=o(ut);mt<z.length;mt++)Me=q(ut,k,mt,z[mt],Q),Me!==null&&(e&&Me.alternate!==null&&ut.delete(Me.key===null?mt:Me.key),N=d(Me,N,mt),Dt===null?rt=Me:Dt.sibling=Me,Dt=Me);return e&&ut.forEach(function(Or){return i(k,Or)}),Bt&&ms(k,mt),rt}function Et(k,N,z,Q){if(z==null)throw Error(s(151));for(var rt=null,Dt=null,ut=N,mt=N=0,Me=null,Ht=z.next();ut!==null&&!Ht.done;mt++,Ht=z.next()){ut.index>mt?(Me=ut,ut=null):Me=ut.sibling;var Or=B(k,ut,Ht.value,Q);if(Or===null){ut===null&&(ut=Me);break}e&&ut&&Or.alternate===null&&i(k,ut),N=d(Or,N,mt),Dt===null?rt=Or:Dt.sibling=Or,Dt=Or,ut=Me}if(Ht.done)return a(k,ut),Bt&&ms(k,mt),rt;if(ut===null){for(;!Ht.done;mt++,Ht=z.next())Ht=X(k,Ht.value,Q),Ht!==null&&(N=d(Ht,N,mt),Dt===null?rt=Ht:Dt.sibling=Ht,Dt=Ht);return Bt&&ms(k,mt),rt}for(ut=o(ut);!Ht.done;mt++,Ht=z.next())Ht=q(ut,k,mt,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ut.delete(Ht.key===null?mt:Ht.key),N=d(Ht,N,mt),Dt===null?rt=Ht:Dt.sibling=Ht,Dt=Ht);return e&&ut.forEach(function(RA){return i(k,RA)}),Bt&&ms(k,mt),rt}function ae(k,N,z,Q){if(typeof z=="object"&&z!==null&&z.type===p&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case f:t:{for(var rt=z.key;N!==null;){if(N.key===rt){if(rt=z.type,rt===p){if(N.tag===7){a(k,N.sibling),Q=h(N,z.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===lt&&Eg(rt)===N.type){a(k,N.sibling),Q=h(N,z.props),Vo(Q,z),Q.return=k,k=Q;break t}a(k,N);break}else i(k,N);N=N.sibling}z.type===p?(Q=ws(z.props.children,k.mode,Q,z.key),Q.return=k,k=Q):(Q=Pu(z.type,z.key,z.props,null,k.mode,Q),Vo(Q,z),Q.return=k,k=Q)}return v(k);case g:t:{for(rt=z.key;N!==null;){if(N.key===rt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(k,N.sibling),Q=h(N,z.children||[]),Q.return=k,k=Q;break t}else{a(k,N);break}else i(k,N);N=N.sibling}Q=If(z,k.mode,Q),Q.return=k,k=Q}return v(k);case lt:return rt=z._init,z=rt(z._payload),ae(k,N,z,Q)}if(et(z))return at(k,N,z,Q);if(At(z)){if(rt=At(z),typeof rt!="function")throw Error(s(150));return z=rt.call(z),Et(k,N,z,Q)}if(typeof z.then=="function")return ae(k,N,_u(z),Q);if(z.$$typeof===L)return ae(k,N,Vu(k,z),Q);vu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,z),Q.return=k,k=Q):(a(k,N),Q=Rf(z,k.mode,Q),Q.return=k,k=Q),v(k)):a(k,N)}return function(k,N,z,Q){try{Mo=0;var rt=ae(k,N,z,Q);return ca=null,rt}catch(ut){if(ut===xo)throw ut;var Dt=xn(29,ut,null,k.mode);return Dt.lanes=Q,Dt.return=k,Dt}finally{}}}var ps=Tg(!0),Ag=Tg(!1),ha=jt(null),Eu=jt(0);function bg(e,i){e=Pi,Qt(Eu,e),Qt(ha,i),Pi=e|i.baseLanes}function Oh(){Qt(Eu,Pi),Qt(ha,ha.current)}function Mh(){Pi=Eu.current,ne(ha),ne(Eu)}var Cn=jt(null),ti=null;function mr(e){var i=e.alternate;Qt(Ae,Ae.current&1),Qt(Cn,e),ti===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&(ti=e)}function Sg(e){if(e.tag===22){if(Qt(Ae,Ae.current),Qt(Cn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else gr()}function gr(){Qt(Ae,Ae.current),Qt(Cn,Cn.current)}function Ii(e){ne(Cn),ti===e&&(ti=null),ne(Ae)}var Ae=jt(0);function Tu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},mT=r.unstable_scheduleCallback,gT=r.unstable_NormalPriority,be={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new dT,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&mT(gT,function(){e.controller.abort()})}var Uo=null,kh=0,fa=0,da=null;function pT(e,i){if(Uo===null){var a=Uo=[];kh=0,fa=Hf(),da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kh++,i.then(wg,wg),i}function wg(){if(--kh===0&&Uo!==null){da!==null&&(da.status="fulfilled");var e=Uo;Uo=null,fa=0,da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function yT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Rg=b.S;b.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&pT(e,i),Rg!==null&&Rg(e,i)};var ys=jt(null);function Uh(){var e=ys.current;return e!==null?e:$t.pooledCache}function Au(e,i){i===null?Qt(ys,ys.current):Qt(ys,i.pool)}function Ig(){var e=Uh();return e===null?null:{parent:be._currentValue,pool:e}}var pr=0,It=null,Kt=null,de=null,bu=!1,ma=!1,_s=!1,Su=0,Po=0,ga=null,_T=0;function ue(){throw Error(s(321))}function Ph(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Lh(e,i,a,o,h,d){return pr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=e===null||e.memoizedState===null?vs:yr,_s=!1,d=a(o,h),_s=!1,ma&&(d=Dg(i,a,o,h)),Cg(e),d}function Cg(e){b.H=ei;var i=Kt!==null&&Kt.next!==null;if(pr=0,de=Kt=It=null,bu=!1,Po=0,ga=null,i)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&Mu(e)&&(xe=!0))}function Dg(e,i,a,o){It=e;var h=0;do{if(ma&&(ga=null),Po=0,ma=!1,25<=h)throw Error(s(301));if(h+=1,de=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Es,d=i(a,o)}while(ma);return d}function vT(){var e=b.H,i=e.useState()[0];return i=typeof i.then=="function"?Lo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function jh(){var e=Su!==0;return Su=0,e}function zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Bh(e){if(bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}bu=!1}pr=0,de=Kt=It=null,ma=!1,Po=Su=0,ga=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?It.memoizedState=de=e:de=de.next=e,de}function me(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=de===null?It.memoizedState:de.next;if(i!==null)de=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},de===null?It.memoizedState=de=e:de=de.next=e}return de}var wu;wu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Lo(e){var i=Po;return Po+=1,ga===null&&(ga=[]),e=_g(ga,e,i),i=It,(de===null?i.memoizedState:de.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?vs:yr),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===L)return qe(e)}throw Error(s(438,String(e)))}function Hh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wu(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=bt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Iu(e){var i=me();return qh(i,Kt,e)}function qh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,S=null,x=i,F=!1;do{var X=x.lane&-536870913;if(X!==x.lane?(Ut&X)===X:(pr&X)===X){var B=x.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),X===fa&&(F=!0);else if((pr&B)===B){x=x.next,B===fa&&(F=!0);continue}else X={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(E=S=X,v=d):S=S.next=X,It.lanes|=B,Rr|=B;X=x.action,_s&&a(d,X),d=x.hasEagerState?x.eagerState:a(d,X)}else B={lane:X,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(E=S=B,v=d):S=S.next=B,It.lanes|=X,Rr|=X;x=x.next}while(x!==null&&x!==i);if(S===null?v=d:S.next=E,!hn(d,e.memoizedState)&&(xe=!0,F&&(a=da,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Fh(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(xe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ng(e,i,a){var o=It,h=me(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Kt||h).memoizedState,a);if(v&&(h.memoizedState=a,xe=!0),h=h.queue,Kh(Mg.bind(null,o,h,e),[e]),h.getSnapshot!==i||v||de!==null&&de.memoizedState.tag&1){if(o.flags|=2048,pa(9,Og.bind(null,o,h,a,i),{destroy:void 0},null),$t===null)throw Error(s(349));d||(pr&60)!==0||xg(o,i,a)}return a}function xg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=wu(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Og(e,i,a,o){i.value=a,i.getSnapshot=o,Vg(i)&&kg(e)}function Mg(e,i,a){return a(function(){Vg(i)&&kg(e)})}function Vg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function kg(e){var i=dr(e,2);i!==null&&tn(i,e,2)}function Gh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),_s){Hn(!0);try{a()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function Ug(e,i,a,o){return e.baseState=a,qh(e,Kt,typeof o=="function"?o:Ci)}function ET(e,i,a,o,h){if(Nu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Pg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Pg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var E=a(h,o),S=b.S;S!==null&&S(v,E),Lg(e,i,E)}catch(x){Qh(e,i,x)}finally{b.T=d}}else try{d=a(h,o),Lg(e,i,d)}catch(x){Qh(e,i,x)}}function Lg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(e,i,o)},function(o){return Qh(e,i,o)}):jg(e,i,a)}function jg(e,i,a){i.status="fulfilled",i.value=a,zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Pg(e,a)))}function Qh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==o)}e.action=null}function zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function Hg(e,i){if(Bt){var a=$t.formState;if(a!==null){t:{var o=It;if(Bt){if(Ue){e:{for(var h=Ue,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=jn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=ap.bind(null,It,o),o.dispatch=a,o=Gh(!1),d=Wh.bind(null,It,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=ET.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function qg(e){var i=me();return Fg(i,Kt,e)}function Fg(e,i,a){i=qh(e,i,Bg)[0],e=Iu(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Lo(i):i;var o=me(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(It.flags|=2048,pa(9,TT.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function TT(e,i){e.action=i}function Gg(e){var i=me(),a=Kt;if(a!==null)return Fg(i,a,e);me(),i=i.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function pa(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=It.updateQueue,i===null&&(i=wu(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Qg(){return me().memoizedState}function Cu(e,i,a,o){var h=sn();It.flags|=e,h.memoizedState=pa(1|i,a,{destroy:void 0},o===void 0?null:o)}function Du(e,i,a,o){var h=me();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&Ph(o,Kt.memoizedState.deps)?h.memoizedState=pa(i,a,d,o):(It.flags|=e,h.memoizedState=pa(1|i,a,d,o))}function Kg(e,i){Cu(8390656,8,e,i)}function Kh(e,i){Du(2048,8,e,i)}function Yg(e,i){return Du(4,2,e,i)}function Xg(e,i){return Du(4,4,e,i)}function $g(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Zg(e,i,a){a=a!=null?a.concat([e]):null,Du(4,4,$g.bind(null,i,e),a)}function Yh(){}function Wg(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Ph(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Jg(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Ph(i,o[1]))return o[0];if(o=e(),_s){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,i],o}function Xh(e,i,a){return a===void 0||(pr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ey(),It.lanes|=e,Rr|=e,a)}function tp(e,i,a,o){return hn(a,i)?a:ha.current!==null?(e=Xh(e,a,o),hn(e,i)||(xe=!0),e):(pr&42)===0?(xe=!0,e.memoizedState=a):(e=ey(),It.lanes|=e,Rr|=e,i)}function ep(e,i,a,o,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=b.T,E={};b.T=E,Wh(e,!1,i,a);try{var S=h(),x=b.S;if(x!==null&&x(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=yT(S,o);jo(e,i,F,gn(e))}else jo(e,i,o,gn(e))}catch(X){jo(e,i,{then:function(){},status:"rejected",reason:X},gn())}finally{nt.p=d,b.T=v}}function AT(){}function $h(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=np(e).queue;ep(e,h,i,Rt,a===null?AT:function(){return ip(e),a(o)})}function np(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ip(e){var i=np(e).next.queue;jo(e,i,{},gn())}function Zh(){return qe(sl)}function rp(){return me().memoizedState}function sp(){return me().memoizedState}function bT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=Er(a);var o=Tr(i,e,a);o!==null&&(tn(o,i,a),Ho(o,i,a)),i={cache:Vh()},e.payload=i;return}i=i.return}}function ST(e,i,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(e)?op(i,a):(a=Ih(e,i,a,o),a!==null&&(tn(a,e,o),lp(a,i,o)))}function ap(e,i,a){var o=gn();jo(e,i,a,o)}function jo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))op(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return du(e,i,h,0),$t===null&&fu(),!1}catch{}finally{}if(a=Ih(e,i,h,o),a!==null)return tn(a,e,o),lp(a,i,o),!0}return!1}function Wh(e,i,a,o){if(o={lane:2,revertLane:Hf(),action:o,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(i)throw Error(s(479))}else i=Ih(e,a,o,2),i!==null&&tn(i,e,2)}function Nu(e){var i=e.alternate;return e===It||i!==null&&i===It}function op(e,i){ma=bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function lp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ir(e,a)}}var ei={readContext:qe,use:Ru,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ei.useCacheRefresh=ue,ei.useMemoCache=ue,ei.useHostTransitionStatus=ue,ei.useFormState=ue,ei.useActionState=ue,ei.useOptimistic=ue;var vs={readContext:qe,use:Ru,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,$g.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cu(4194308,4,e,i)},useInsertionEffect:function(e,i){Cu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(_s){Hn(!0);try{e()}finally{Hn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(_s){Hn(!0);try{a(i)}finally{Hn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ST.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Gh(e);var i=e.queue,a=ap.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(e,i){var a=sn();return Xh(a,e,i)},useTransition:function(){var e=Gh(!1);return e=ep.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$t===null)throw Error(s(349));(Ut&60)!==0||xg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Mg.bind(null,o,d,e),[e]),o.flags|=2048,pa(9,Og.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=$t.identifierPrefix;if(Bt){var a=Ri,o=wi;a=(o&~(1<<32-$e(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Su++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=_T++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=bT.bind(null,It)}};vs.useMemoCache=Hh,vs.useHostTransitionStatus=Zh,vs.useFormState=Hg,vs.useActionState=Hg,vs.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wh.bind(null,It,!0,a),a.dispatch=i,[e,i]};var yr={readContext:qe,use:Ru,useCallback:Wg,useContext:qe,useEffect:Kh,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Jg,useReducer:Iu,useRef:Qg,useState:function(){return Iu(Ci)},useDebugValue:Yh,useDeferredValue:function(e,i){var a=me();return tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Iu(Ci)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Ng,useId:rp};yr.useCacheRefresh=sp,yr.useMemoCache=Hh,yr.useHostTransitionStatus=Zh,yr.useFormState=qg,yr.useActionState=qg,yr.useOptimistic=function(e,i){var a=me();return Ug(a,Kt,e,i)};var Es={readContext:qe,use:Ru,useCallback:Wg,useContext:qe,useEffect:Kh,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:Jg,useReducer:Fh,useRef:Qg,useState:function(){return Fh(Ci)},useDebugValue:Yh,useDeferredValue:function(e,i){var a=me();return Kt===null?Xh(a,e,i):tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Fh(Ci)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Ng,useId:rp};Es.useCacheRefresh=sp,Es.useMemoCache=Hh,Es.useHostTransitionStatus=Zh,Es.useFormState=Gg,Es.useActionState=Gg,Es.useOptimistic=function(e,i){var a=me();return Kt!==null?Ug(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Jh(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var tf={isMounted:function(e){return(e=e._reactInternals)?ht(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=gn(),h=Er(o);h.payload=i,a!=null&&(h.callback=a),i=Tr(e,h,o),i!==null&&(tn(i,e,o),Ho(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=gn(),h=Er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Tr(e,h,o),i!==null&&(tn(i,e,o),Ho(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),o=Er(a);o.tag=2,i!=null&&(o.callback=i),i=Tr(e,o,a),i!==null&&(tn(i,e,a),Ho(i,e,a))}};function up(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,d):!0}function cp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&tf.enqueueReplaceState(i,i.state,null)}function Ts(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function hp(e){xu(e)}function fp(e){console.error(e)}function dp(e){xu(e)}function Ou(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function mp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(e,i,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(e,i)},a}function gp(e){return e=Er(e),e.tag=3,e}function pp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){mp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){mp(i,a,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function wT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Bo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ti===null?Pf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),jf(e,o,h)),!1;case 22:return a.flags|=65536,o===xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),jf(e,o,h)),!1}throw Error(s(435,a.tag))}return jf(e,o,h),Pf(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Nh&&(e=Error(s(422),{cause:o}),No(wn(e,a)))):(o!==Nh&&(i=Error(s(423),{cause:o}),No(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,a),h=ef(e.stateNode,o,h),yf(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:o});if(d=wn(d,a),$o===null?$o=[d]:$o.push(d),se!==4&&(se=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ef(a.stateNode,o,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gp(h),pp(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var yp=Error(s(461)),xe=!1;function Pe(e,i,a,o){i.child=e===null?Ag(i,null,a,o):ps(i,e.child,a,o)}function _p(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return bs(i),o=Lh(e,i,a,v,d,h),E=jh(),e!==null&&!xe?(zh(e,i,h),Di(e,i,h)):(Bt&&E&&Ch(i),i.flags|=1,Pe(e,i,o,h),i.child)}function vp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ep(e,i,d,o,h)):(e=Pu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!hf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=wr(d,o),e.ref=i.ref,e.return=i,i.child=e}function Ep(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,o)&&e.ref===i.ref)if(xe=!1,i.pendingProps=o=d,hf(e,h))(e.flags&131072)!==0&&(xe=!0);else return i.lanes=e.lanes,Di(e,i,h)}return nf(e,i,a,o,h)}function Tp(e,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(zo(e,i),o.mode==="hidden"||d){if((i.flags&128)!==0){if(o=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Ap(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(i,v!==null?v.cachePool:null),v!==null?bg(i,v):Oh(),Sg(i);else return i.lanes=i.childLanes=536870912,Ap(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Au(i,v.cachePool),bg(i,v),gr(),i.memoizedState=null):(e!==null&&Au(i,null),Oh(),gr());return Pe(e,i,h,a),i.child}function Ap(e,i,a,o){var h=Uh();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Au(i,null),Oh(),Sg(i),e!==null&&Bo(e,i,o,!0),null}function zo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function nf(e,i,a,o,h){return bs(i),a=Lh(e,i,a,o,void 0,h),o=jh(),e!==null&&!xe?(zh(e,i,h),Di(e,i,h)):(Bt&&o&&Ch(i),i.flags|=1,Pe(e,i,a,h),i.child)}function bp(e,i,a,o,h,d){return bs(i),i.updateQueue=null,a=Dg(i,o,a,h),Cg(e),o=jh(),e!==null&&!xe?(zh(e,i,d),Di(e,i,d)):(Bt&&o&&Ch(i),i.flags|=1,Pe(e,i,a,d),i.child)}function Sp(e,i,a,o,h){if(bs(i),i.stateNode===null){var d=oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=qe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?qe(v):oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jh(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&tf.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,S=Ts(a,E);d.props=S;var x=d.context,F=a.contextType;v=oa,typeof F=="object"&&F!==null&&(v=qe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||x!==v)&&cp(i,d,o,v),vr=!1;var B=i.memoizedState;d.state=B,Fo(i,o,d,h),qo(),x=i.memoizedState,E||B!==x||vr?(typeof X=="function"&&(Jh(i,a,X,o),x=i.memoizedState),(S=vr||up(i,a,S,o,B,x,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=x),d.props=o,d.state=x,d.context=v,o=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,pf(e,i),v=i.memoizedProps,F=Ts(a,v),d.props=F,X=i.pendingProps,B=d.context,x=a.contextType,S=oa,typeof x=="object"&&x!==null&&(S=qe(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==S)&&cp(i,d,o,S),vr=!1,B=i.memoizedState,d.state=B,Fo(i,o,d,h),qo();var q=i.memoizedState;v!==X||B!==q||vr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Jh(i,a,E,o),q=i.memoizedState),(F=vr||up(i,a,F,o,B,q,S)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(x||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=S,o=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,zo(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ps(i,e.child,null,h),i.child=ps(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function wp(e,i,a,o){return Do(),i.flags|=256,Pe(e,i,a,o),i.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(e){return{baseLanes:e,cachePool:Ig()}}function af(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Rp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?mr(i):gr(),Bt){var E=Ue,S;if(S=E){t:{for(S=E,E=Jn;S.nodeType!==8;){if(!E){E=null;break t}if(S=jn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:ds!==null?{id:wi,overflow:Ri}:null,retryLane:536870912},S=xn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,Je=i,Ue=null,S=!0):S=!1}S||gs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(gr(),h=i.mode,E=lf({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=sf(a),h.childLanes=af(e,v,a),i.memoizedState=rf,o):(mr(i),of(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)i.flags&256?(mr(i),i.flags&=-257,i=uf(e,i,a)):i.memoizedState!==null?(gr(),i.child=e.child,i.flags|=128,i=null):(gr(),h=o.fallback,E=i.mode,o=lf({mode:"visible",children:o.children},E),h=ws(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ps(i,e.child,null,a),o=i.child,o.memoizedState=sf(a),o.childLanes=af(e,v,a),i.memoizedState=rf,i=h);else if(mr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var x=v.dgst;v=x,o=Error(s(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),i=uf(e,i,a)}else if(xe||Bo(e,i,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=$t,v!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,dr(e,o),tn(v,e,o),yp}E.data==="$?"||Pf(),i=uf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=zT.bind(null,e),E._reactRetry=i,i=null):(e=S.treeContext,Ue=jn(E.nextSibling),Je=i,Bt=!0,Pn=null,Jn=!1,e!==null&&(Rn[In++]=wi,Rn[In++]=Ri,Rn[In++]=ds,wi=e.id,Ri=e.overflow,ds=i),i=of(i,o.children),i.flags|=4096);return i}return h?(gr(),h=o.fallback,E=i.mode,S=e.child,x=S.sibling,o=wr(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,x!==null?h=wr(x,h):(h=ws(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=sf(a):(S=E.cachePool,S!==null?(x=be._currentValue,S=S.parent!==x?{parent:x,pool:x}:S):S=Ig(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=af(e,v,a),i.memoizedState=rf,o):(mr(i),a=e.child,e=a.sibling,a=wr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function of(e,i){return i=lf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function lf(e,i){return Wp(e,i,0,null)}function uf(e,i,a){return ps(i,e.child,null,a),e=of(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ip(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),df(e.return,i,a)}function cf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Cp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Pe(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,a,i);else if(e.tag===19)Ip(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Qt(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Tu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Tu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}cf(i,!0,a,null,d);break;case"together":cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Rr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Bo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=wr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=wr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function hf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function RT(e,i,a){switch(i.tag){case 3:Zi(i,i.stateNode.containerInfo),_r(i,be,e.memoizedState.cache),Do();break;case 27:case 5:ro(i);break;case 4:Zi(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Rp(e,i,a):(mr(i),e=Di(e,i,a),e!==null?e.sibling:null);mr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Bo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Cp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qt(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Tp(e,i,a);case 24:_r(i,be,e.memoizedState.cache)}return Di(e,i,a)}function Dp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xe=!0;else{if(!hf(e,a)&&(i.flags&128)===0)return xe=!1,RT(e,i,a);xe=(e.flags&131072)!==0}else xe=!1,Bt&&(i.flags&1048576)!==0&&dg(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")wf(o)?(e=Ts(o,e),i.tag=1,i=Sp(null,i,o,e,a)):(i.tag=0,i=nf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===G){i.tag=11,i=_p(null,i,o,e,a);break t}else if(h===ct){i.tag=14,i=vp(null,i,o,e,a);break t}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return nf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ts(o,i.pendingProps),Sp(e,i,o,h,a);case 3:t:{if(Zi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,pf(e,i),Fo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,_r(i,be,d),d!==h.cache&&mf(i,[be],a,!0),qo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=wp(e,i,d,a);break t}else if(d!==o){o=wn(Error(s(424)),i),No(o),i=wp(e,i,d,a);break t}else for(Ue=jn(i.stateNode.containerInfo.firstChild),Je=i,Bt=!0,Pn=null,Jn=!0,a=Ag(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),d===o){i=Di(e,i,a);break t}Pe(e,i,d,a)}i=i.child}return i;case 26:return zo(e,i),e===null?(a=Oy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Xu(yn.current).createElement(a),o[Ce]=i,o[ve]=e,Le(o,a,e),Wt(o),i.stateNode=o):i.memoizedState=Oy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ro(i),e===null&&Bt&&(o=i.stateNode=Dy(i.type,i.pendingProps,yn.current),Je=i,Jn=!0,Ue=jn(o.firstChild)),o=i.pendingProps.children,e!==null||Bt?Pe(e,i,o,a):i.child=ps(i,null,o,a),zo(e,i),i.child;case 5:return e===null&&Bt&&((h=o=Ue)&&(o=nA(o,i.type,i.pendingProps,Jn),o!==null?(i.stateNode=o,Je=i,Ue=jn(o.firstChild),Jn=!1,h=!0):h=!1),h||gs(i)),ro(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,Zf(h,d)?o=null:v!==null&&Zf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Lh(e,i,vT,null,null,a),sl._currentValue=h),zo(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=Ue)&&(a=iA(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Je=i,Ue=null,e=!0):e=!1),e||gs(i)),null;case 13:return Rp(e,i,a);case 4:return Zi(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ps(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return _p(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,_r(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,bs(i),h=qe(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return vp(e,i,i.type,i.pendingProps,a);case 15:return Ep(e,i,i.type,i.pendingProps,a);case 19:return Cp(e,i,a);case 22:return Tp(e,i,a);case 24:return bs(i),o=qe(be),e===null?(h=Uh(),h===null&&(h=$t,d=Vh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},gf(i),_r(i,be,h)):((e.lanes&a)!==0&&(pf(e,i),Fo(i,null,null,a),qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,be,o)):(o=d.cache,_r(i,be,o),o!==h.cache&&mf(i,[be],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ff=jt(null),As=null,Ni=null;function _r(e,i,a){Qt(ff,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=ff.current,ne(ff)}function df(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function mf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),df(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),df(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===$i.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&mf(i,e,a,o),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){As=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Np(As,e)}function Vu(e,i){return As===null&&bs(e),Np(e,i)}function Np(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var vr=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=mu(e),hg(e,null,a),i}return du(e,o,i,a),mu(e)}function Ho(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,ir(e,a)}}function yf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function qo(){if(_f){var e=da;if(e!==null)throw e}}function Fo(e,i,a,o){_f=!1;var h=e.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,x=S.next;S.next=null,v===null?d=x:v.next=x,v=S;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=x:E.next=x,F.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,F=x=S=null,E=d;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ut&B)===B:(o&B)===B){B!==0&&B===fa&&(_f=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,Et=E;B=i;var ae=a;switch(Et.tag){case 1:if(at=Et.payload,typeof at=="function"){X=at.call(ae,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Et.payload,B=typeof at=="function"?at.call(ae,X,B):at,B==null)break t;X=C({},X,B);break t;case 2:vr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(x=F=q,S=X):F=F.next=q,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(S=X),h.baseState=S,h.firstBaseUpdate=x,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Rr|=v,e.lanes=v,e.memoizedState=X}}function xp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Op(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xp(a[e],i)}function Go(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function Ar(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a;try{E()}catch(x){Xt(h,S,x)}}}o=o.next}while(o!==d)}}catch(x){Xt(i,i.return,x)}}function Mp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Op(i,a)}catch(o){Xt(e,e.return,o)}}}function Vp(e,i,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function Ss(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Xt(e,i,d)}}function fn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function kp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function Up(e,i,a){try{var o=e.stateNode;ZT(o,e.type,a,i),o[ve]=i}catch(h){Xt(e,e.return,h)}}function Pp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ef(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Ef(e,i,a),e=e.sibling;e!==null;)Ef(e,i,a),e=e.sibling}function ku(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(ku(e,i,a),e=e.sibling;e!==null;)ku(e,i,a),e=e.sibling}var Oi=!1,re=!1,Tf=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,Oe=null,jp=!1;function IT(e,i){if(e=e.containerInfo,Xf=ec,e=ng(e),Ah(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,x=0,F=0,X=e,B=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||o!==0&&X.nodeType!==3||(S=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===e)break e;if(B===a&&++x===h&&(E=v),B===d&&++F===o&&(S=v),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for($f={focusedElem:e,selectionRange:a},ec=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var at=Ts(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(at,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Xt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}return at=jp,jp=!1,at}function zp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(e,a),o&4&&Go(5,a);break;case 1:if(Vi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Xt(a,a.return,E)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(a,a.return,E)}}o&64&&Mp(a),o&512&&Ss(a,a.return);break;case 3:if(Vi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Op(o,e)}catch(E){Xt(a,a.return,E)}}break;case 26:Vi(e,a),o&512&&Ss(a,a.return);break;case 27:case 5:Vi(e,a),i===null&&o&4&&kp(a),o&512&&Ss(a,a.return);break;case 12:Vi(e,a);break;case 13:Vi(e,a),o&4&&qp(e,a);break;case 22:if(h=a.memoizedState!==null||Oi,!h){i=i!==null&&i.memoizedState!==null||re;var d=Oi,v=re;Oi=h,(re=i)&&!v?br(e,a,(a.subtreeFlags&8772)!==0):Vi(e,a),Oi=d,re=v}o&512&&(a.memoizedProps.mode==="manual"?Ss(a,a.return):fn(a,a.return));break;default:Vi(e,a)}}function Bp(e){var i=e.alternate;i!==null&&(e.alternate=null,Bp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ts(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)Hp(e,i,a),a=a.sibling}function Hp(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:re||fn(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||fn(a,i);var o=ge,h=dn;for(ge=a.stateNode,Mi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ts(a),ge=o,dn=h;break;case 5:re||fn(a,i);case 6:h=ge;var d=dn;if(ge=null,Mi(e,i,a),ge=h,dn=d,ge!==null)if(dn)try{e=ge,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(v){Xt(a,i,v)}else try{ge.removeChild(a.stateNode)}catch(v){Xt(a,i,v)}break;case 18:ge!==null&&(dn?(i=ge,a=a.stateNode,i.nodeType===8?Jf(i.parentNode,a):i.nodeType===1&&Jf(i,a),ul(i)):Jf(ge,a.stateNode));break;case 4:o=ge,h=dn,ge=a.stateNode.containerInfo,dn=!0,Mi(e,i,a),ge=o,dn=h;break;case 0:case 11:case 14:case 15:re||Ar(2,a,i),re||Ar(4,a,i),Mi(e,i,a);break;case 1:re||(fn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Vp(a,i,o)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:re||fn(a,i),re=(o=re)||a.memoizedState!==null,Mi(e,i,a),re=o;break;default:Mi(e,i,a)}}function qp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){Xt(i,i.return,a)}}function CT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Lp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Lp),i;default:throw Error(s(435,e.tag))}}function Af(e,i){var a=CT(e);i.forEach(function(o){var h=BT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,dn=!1;break t;case 3:ge=E.stateNode.containerInfo,dn=!0;break t;case 4:ge=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));Hp(d,v,h),ge=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Fp(i,e),i=i.sibling}var Ln=null;function Fp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(i,e),Nn(e),o&4&&(Ar(3,e,e.return),Go(3,e),Ar(5,e,e.return));break;case 1:Dn(i,e),Nn(e),o&512&&(re||a===null||fn(a,a.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(Dn(i,e),Nn(e),o&512&&(re||a===null||fn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[sr]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Le(d,o,a),d[Ce]=e,Wt(d),o=d;break t;case"link":var v=ky("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;case"meta":if(v=ky("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ce]=e,Wt(d),o=d}e.stateNode=o}else Uy(h,e.type,e.stateNode);else e.stateNode=Vy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Uy(h,e.type,e.stateNode):Vy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Up(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var S=h.firstChild;S;){var x=S.nextSibling,F=S.nodeName;S[sr]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=x}for(var X=e.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Le(h,X,d),h[Ce]=e,h[ve]=d}catch(at){Xt(e,e.return,at)}}case 5:if(Dn(i,e),Nn(e),o&512&&(re||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(at){Xt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Up(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Tf=!0);break;case 6:if(Dn(i,e),Nn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Xt(e,e.return,at)}}break;case 3:if(Wu=null,h=Ln,Ln=$u(i.containerInfo),Dn(i,e),Ln=h,Nn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(at){Xt(e,e.return,at)}Tf&&(Tf=!1,Gp(e));break;case 4:o=Ln,Ln=$u(e.stateNode.containerInfo),Dn(i,e),Nn(e),Ln=o;break;case 12:Dn(i,e),Nn(e);break;case 13:Dn(i,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xf=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Af(e,o)));break;case 22:if(o&512&&(re||a===null||fn(a,a.return)),S=e.memoizedState!==null,x=a!==null&&a.memoizedState!==null,F=Oi,X=re,Oi=F||S,re=X||x,Dn(i,e),re=X,Oi=F,Nn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=S?i._visibility&-2:i._visibility|1,S&&(i=Oi||re,a===null||x||i||ya(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){x=a=i;try{if(h=x.stateNode,S)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=x.stateNode,E=x.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(at){Xt(x,x.return,at)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=S?"":x.memoizedProps}catch(at){Xt(x,x.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Af(e,a))));break;case 19:Dn(i,e),Nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Af(e,o)));break;case 21:break;default:Dn(i,e),Nn(e)}}function Nn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Pp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=vf(e);ku(e,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(En(v,""),o.flags&=-33);var E=vf(e);ku(e,E,v);break;case 3:case 4:var S=o.stateNode.containerInfo,x=vf(e);Ef(e,x,S);break;default:throw Error(s(161))}}}catch(F){Xt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Gp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Vi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zp(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),ya(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Vp(i,i.return,a),ya(i);break;case 26:case 27:case 5:fn(i,i.return),ya(i);break;case 22:fn(i,i.return),i.memoizedState===null&&ya(i);break;default:ya(i)}e=e.sibling}}function br(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),Go(4,d);break;case 1:if(br(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Xt(o,o.return,x)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)xp(S[h],E)}catch(x){Xt(o,o.return,x)}}a&&v&64&&Mp(d),Ss(d,d.return);break;case 26:case 27:case 5:br(h,d,a),a&&o===null&&v&4&&kp(d),Ss(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&qp(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),Ss(d,d.return);break;default:br(h,d,a)}i=i.sibling}}function bf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ko(a))}function Sf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e))}function Sr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qp(e,i,a,o),i=i.sibling}function Qp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,o),h&2048&&Go(9,i);break;case 3:Sr(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Sr(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Xt(i,i.return,S)}}else Sr(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Sr(e,i,a,o):Qo(e,i):d._visibility&4?Sr(e,i,a,o):(d._visibility|=4,_a(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&bf(i.alternate,i);break;case 24:Sr(e,i,a,o),h&2048&&Sf(i.alternate,i);break;default:Sr(e,i,a,o)}}function _a(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,S=o,x=v.flags;switch(v.tag){case 0:case 11:case 15:_a(d,v,E,S,h),Go(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?_a(d,v,E,S,h):Qo(d,v):(F._visibility|=4,_a(d,v,E,S,h)),h&&x&2048&&bf(v.alternate,v);break;case 24:_a(d,v,E,S,h),h&&x&2048&&Sf(v.alternate,v);break;default:_a(d,v,E,S,h)}i=i.sibling}}function Qo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Qo(a,o),h&2048&&bf(o.alternate,o);break;case 24:Qo(a,o),h&2048&&Sf(o.alternate,o);break;default:Qo(a,o)}i=i.sibling}}var Ko=8192;function va(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 26:va(e),e.flags&Ko&&e.memoizedState!==null&&pA(Ln,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var i=Ln;Ln=$u(e.stateNode.containerInfo),va(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,va(e),Ko=i):va(e));break;default:va(e)}}function Yp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,$p(o,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Uu(e)):Yo(e);break;default:Yo(e)}}function Uu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,$p(o,e)}Yp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),Uu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Uu(i));break;default:Uu(i)}e=e.sibling}}function $p(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:Ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(Bp(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}function DT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,i,a,o){return new DT(e,i,a,o)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wr(e,i){var a=e.alternate;return a===null?(a=xn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zp(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Pu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")wf(e)&&(v=1);else if(typeof e=="string")v=mA(e,a,Xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return ws(a.children,h,d,i);case _:v=8,h|=24;break;case A:return e=xn(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case W:return e=xn(13,a,i,h),e.elementType=W,e.lanes=d,e;case Y:return e=xn(19,a,i,h),e.elementType=Y,e.lanes=d,e;case st:return Wp(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case L:v=10;break t;case V:v=9;break t;case G:v=11;break t;case ct:v=14;break t;case lt:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=xn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ws(e,i,a,o){return e=xn(7,e,o,i),e.lanes=a,e}function Wp(e,i,a,o){e=xn(22,e,o,i),e.elementType=st,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=dr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=dr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return e.stateNode=h,e}function Rf(e,i,a){return e=xn(6,e,null,i),e.lanes=a,e}function If(e,i,a){return i=xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ki(e){e.flags|=4}function Jp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(i)){if(i=Cn.current,i!==null&&((Ut&4194176)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ti))throw Oo=xh,pg;e.flags|=8192}}function Lu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?er():536870912,e.lanes|=i,Ta|=i)}function Xo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function NT(e,i,a){var o=i.pendingProps;switch(Dh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xi(be),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pn!==null&&(kf(Pn),Pn=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(Jt(i),Jp(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),Jt(i),Jp(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),Jt(i),i.flags&=-16777217),null;case 27:zs(i),a=yn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Xe.current,Co(i)?mg(i):(e=Dy(h,o,a),i.stateNode=e,ki(i))}return Jt(i),null;case 5:if(zs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Xe.current,Co(i))mg(i);else{switch(h=Xu(yn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ce]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=yn.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||by(e.nodeValue,a)),e||gs(i)}else e=Xu(e).createTextNode(o),e[Ce]=i,i.stateNode=e}return Jt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else Pn!==null&&(kf(Pn),Pn=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),Jt(i),null;case 4:return mi(),e===null&&Qf(i.stateNode.containerInfo),Jt(i),null;case 10:return xi(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Xo(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Tu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,Lu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Zp(a,e),a=a.sibling;return Qt(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>ju&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Tu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Lu(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return Jt(i),null}else 2*nn()-h.renderingStartTime>ju&&a!==536870912&&(i.flags|=128,o=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Ae.current,Qt(Ae,o?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ii(i),Mh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&ne(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(be),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function xT(e,i){switch(Dh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(be),mi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return zs(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return mi(),null;case 10:return xi(i.type),null;case 22:case 23:return Ii(i),Mh(),e!==null&&ne(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(be),null;case 25:return null;default:return null}}function ty(e,i){switch(Dh(i),i.tag){case 3:xi(be),mi();break;case 26:case 27:case 5:zs(i);break;case 4:mi();break;case 13:Ii(i);break;case 19:ne(Ae);break;case 10:xi(i.type);break;case 22:case 23:Ii(i),Mh(),e!==null&&ne(ys);break;case 24:xi(be)}}var OT={getCacheForType:function(e){var i=qe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},MT=typeof WeakMap=="function"?WeakMap:Map,te=0,$t=null,Nt=null,Ut=0,Zt=0,mn=null,Ui=!1,Ea=!1,Cf=!1,Pi=0,se=0,Rr=0,Rs=0,Df=0,On=0,Ta=0,$o=null,ni=null,Nf=!1,xf=0,ju=1/0,zu=null,Ir=null,Bu=!1,Is=null,Zo=0,Of=0,Mf=null,Wo=0,Vf=null;function gn(){if((te&2)!==0&&Ut!==0)return Ut&-Ut;if(b.T!==null){var e=fa;return e!==0?e:Hf()}return Kl()}function ey(){On===0&&(On=(Ut&536870912)===0||Bt?uo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),On}function tn(e,i,a){(e===$t&&Zt===2||e.cancelPendingCommit!==null)&&(Aa(e,0),Li(e,Ut,On,!1)),le(e,a),((te&2)===0||e!==$t)&&(e===$t&&((te&2)===0&&(Rs|=a),se===4&&Li(e,Ut,On,!1)),ii(e))}function ny(e,i,a){if((te&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||tr(e,i),h=o?UT(e,i):Lf(e,i,!0),d=o;do{if(h===0){Ea&&!o&&Li(e,i,0,!1);break}else if(h===6)Li(e,i,0,!Ui);else{if(a=e.current.alternate,d&&!VT(a)){h=Lf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=$o;var S=E.current.memoizedState.isDehydrated;if(S&&(Aa(E,v).flags|=256),v=Lf(E,v,!1),v!==2){if(Cf&&!S){E.errorRecoveryDisabledLanes|=d,Rs|=d,h=4;break t}d=ni,ni=h,d!==null&&kf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(e,0),Li(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Li(o,i,On,!Ui);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=xf+300-nn(),10<d)){if(Li(o,i,On,!Ui),_n(o,0)!==0)break t;o.timeoutHandle=Ry(iy.bind(null,o,a,ni,zu,Nf,i,On,Rs,Ta,Ui,2,-0,0),d);break t}iy(o,a,ni,zu,Nf,i,On,Rs,Ta,Ui,0,-0,0)}}break}while(!0);ii(e)}function kf(e){ni===null?ni=e:ni.push.apply(ni,e)}function iy(e,i,a,o,h,d,v,E,S,x,F,X,B){var q=i.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:gA},Kp(i),i=yA(),i!==null)){e.cancelPendingCommit=i(cy.bind(null,e,a,o,h,v,E,S,1,X,B)),Li(e,d,v,!x);return}cy(e,a,o,h,v,E,S,F,X,B)}function VT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(e,i,a,o){i&=~Df,i&=~Rs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&nr(e,a,i)}function Hu(){return(te&6)===0?(Jo(0),!1):!0}function Uf(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Ni=As=null,Bh(e),ca=null,Mo=0,e=Nt;for(;e!==null;)ty(e.alternate,e),e=e.return;Nt=null}}function Aa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,JT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uf(),$t=e,Nt=a=wr(e.current,null),Ut=i,Zt=0,mn=null,Ui=!1,Ea=tr(e,i),Cf=!1,Ta=On=Df=Rs=Rr=se=0,ni=$o=null,Nf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-$e(o),d=1<<h;i|=e[h],o&=~d}return Pi=i,fu(),a}function ry(e,i){It=null,b.H=ei,i===xo?(i=vg(),Zt=3):i===pg?(i=vg(),Zt=4):Zt=i===yp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Nt===null&&(se=1,Ou(e,wn(i,e.current)))}function sy(){var e=b.H;return b.H=ei,e===null?ei:e}function ay(){var e=b.A;return b.A=OT,e}function Pf(){se=4,Ui||(Ut&4194176)!==Ut&&Cn.current!==null||(Ea=!0),(Rr&134217727)===0&&(Rs&134217727)===0||$t===null||Li($t,Ut,On,!1)}function Lf(e,i,a){var o=te;te|=2;var h=sy(),d=ay();($t!==e||Ut!==i)&&(zu=null,Aa(e,i)),i=!1;var v=se;t:do try{if(Zt!==0&&Nt!==null){var E=Nt,S=mn;switch(Zt){case 8:Uf(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(i=!0);var x=Zt;if(Zt=0,mn=null,ba(e,E,S,x),a&&Ea){v=0;break t}break;default:x=Zt,Zt=0,mn=null,ba(e,E,S,x)}}kT(),v=se;break}catch(F){ry(e,F)}while(!0);return i&&e.shellSuspendCounter++,Ni=As=null,te=o,b.H=h,b.A=d,Nt===null&&($t=null,Ut=0,fu()),v}function kT(){for(;Nt!==null;)oy(Nt)}function UT(e,i){var a=te;te|=2;var o=sy(),h=ay();$t!==e||Ut!==i?(zu=null,ju=nn()+500,Aa(e,i)):Ea=tr(e,i);t:do try{if(Zt!==0&&Nt!==null){i=Nt;var d=mn;e:switch(Zt){case 1:Zt=0,mn=null,ba(e,i,d,1);break;case 2:if(yg(d)){Zt=0,mn=null,ly(i);break}i=function(){Zt===2&&$t===e&&(Zt=7),ii(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:yg(d)?(Zt=0,mn=null,ly(i)):(Zt=0,mn=null,ba(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||Py(v)){Zt=0,mn=null;var S=E.sibling;if(S!==null)Nt=S;else{var x=E.return;x!==null?(Nt=x,qu(x)):Nt=null}break e}}Zt=0,mn=null,ba(e,i,d,5);break;case 6:Zt=0,mn=null,ba(e,i,d,6);break;case 8:Uf(),se=6;break t;default:throw Error(s(462))}}PT();break}catch(F){ry(e,F)}while(!0);return Ni=As=null,b.H=o,b.A=h,te=a,Nt!==null?0:($t=null,Ut=0,fu(),se)}function PT(){for(;Nt!==null&&!hh();)oy(Nt)}function oy(e){var i=Dp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?qu(e):Nt=i}function ly(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=bp(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=bp(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Bh(i);default:ty(a,i),i=Nt=Zp(i,Pi),i=Dp(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?qu(e):Nt=i}function ba(e,i,a,o){Ni=As=null,Bh(i),ca=null,Mo=0;var h=i.return;try{if(wT(e,h,i,a,Ut)){se=1,Ou(e,wn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;se=1,Ou(e,wn(a,e.current)),Nt=null;return}i.flags&32768?(Bt||o===1?e=!0:Ea||(Ut&536870912)!==0?e=!1:(Ui=e=!0,(o===2||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),uy(i,e)):qu(i)}function qu(e){var i=e;do{if((i.flags&32768)!==0){uy(i,Ui);return}e=i.return;var a=NT(i.alternate,i,Pi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);se===0&&(se=5)}function uy(e,i){do{var a=xT(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);se=6,Nt=null}function cy(e,i,a,o,h,d,v,E,S,x){var F=b.T,X=nt.p;try{nt.p=2,b.T=null,LT(e,i,a,o,X,h,d,v,E,S,x)}finally{b.T=F,nt.p=X}}function LT(e,i,a,o,h,d,v,E){do Sa();while(Is!==null);if((te&6)!==0)throw Error(s(327));var S=e.finishedWork;if(o=e.finishedLanes,S===null)return null;if(e.finishedWork=null,e.finishedLanes=0,S===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var x=S.lanes|S.childLanes;if(x|=Rh,Gl(e,o,x,d,v,E),e===$t&&(Nt=$t=null,Ut=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Bu||(Bu=!0,Of=x,Mf=a,HT(gi,function(){return Sa(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=nt.p,nt.p=2,v=te,te|=4,IT(e,S),Fp(S,e),lT($f,e.containerInfo),ec=!!Xf,$f=Xf=null,e.current=S,zp(e,S.alternate,S),so(),te=v,nt.p=d,b.T=a):e.current=S,Bu?(Bu=!1,Is=e,Zo=o):hy(e,x),x=e.pendingLanes,x===0&&(Ir=null),oo(S.stateNode),ii(e),i!==null)for(h=e.onRecoverableError,S=0;S<i.length;S++)x=i[S],h(x.value,{componentStack:x.stack});return(Zo&3)!==0&&Sa(),x=e.pendingLanes,(o&4194218)!==0&&(x&42)!==0?e===Vf?Wo++:(Wo=0,Vf=e):Wo=0,Jo(0),null}function hy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ko(i)))}function Sa(){if(Is!==null){var e=Is,i=Of;Of=0;var a=Ql(Zo),o=b.T,h=nt.p;try{if(nt.p=32>a?32:a,b.T=null,Is===null)var d=!1;else{a=Mf,Mf=null;var v=Is,E=Zo;if(Is=null,Zo=0,(te&6)!==0)throw Error(s(331));var S=te;if(te|=4,Xp(v.current),Qp(v,v.current,E,a),te=S,Jo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Wi,v)}catch{}d=!0}return d}finally{nt.p=h,b.T=o,hy(e,i)}}return!1}function fy(e,i,a){i=wn(a,i),i=ef(e.stateNode,i,2),e=Tr(e,i,2),e!==null&&(le(e,2),ii(e))}function Xt(e,i,a){if(e.tag===3)fy(e,e,a);else for(;i!==null;){if(i.tag===3){fy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=wn(a,e),a=gp(2),o=Tr(i,a,2),o!==null&&(pp(a,o,i,e),le(o,2),ii(o));break}}i=i.return}}function jf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new MT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Cf=!0,h.add(a),e=jT.bind(null,e,i,a),i.then(e,e))}function jT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>nn()-xf?(te&2)===0&&Aa(e,0):Df|=a,Ta===Ut&&(Ta=0)),ii(e)}function dy(e,i){i===0&&(i=er()),e=dr(e,i),e!==null&&(le(e,i),ii(e))}function zT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),dy(e,a)}function BT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),dy(e,a)}function HT(e,i){return Zr(e,i)}var Fu=null,wa=null,zf=!1,Gu=!1,Bf=!1,Cs=0;function ii(e){e!==wa&&e.next===null&&(wa===null?Fu=wa=e:wa=wa.next=e),Gu=!0,zf||(zf=!0,FT(qT))}function Jo(e,i){if(!Bf&&Gu){Bf=!0;do for(var a=!1,o=Fu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,py(o,d))}else d=Ut,d=_n(o,o===$t?d:0),(d&3)===0||tr(o,d)||(a=!0,py(o,d));o=o.next}while(a);Bf=!1}}function qT(){Gu=zf=!1;var e=0;Cs!==0&&(WT()&&(e=Cs),Cs=0);for(var i=nn(),a=null,o=Fu;o!==null;){var h=o.next,d=my(o,i);d===0?(o.next=null,a===null?Fu=h:a.next=h,h===null&&(wa=a)):(a=o,(e!==0||(d&3)!==0)&&(Gu=!0)),o=h}Jo(e)}function my(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&o)!==0)&&(h[v]=qs(E,i)):S<=i&&(e.expiredLanes|=E),d&=~E}if(i=$t,a=Ut,a=_n(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||tr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Hs(o),Ql(a)){case 2:case 8:a=Ie;break;case 32:a=gi;break;case 268435456:a=ao;break;default:a=gi}return o=gy.bind(null,e),a=Zr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Hs(o),e.callbackPriority=2,e.callbackNode=null,2}function gy(e,i){var a=e.callbackNode;if(Sa()&&e.callbackNode!==a)return null;var o=Ut;return o=_n(e,e===$t?o:0),o===0?null:(ny(e,o,i),my(e,nn()),e.callbackNode!=null&&e.callbackNode===a?gy.bind(null,e):null)}function py(e,i){if(Sa())return null;ny(e,i,!0)}function FT(e){tA(function(){(te&6)!==0?Zr(_e,e):e()})}function Hf(){return Cs===0&&(Cs=uo()),Cs}function yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function _y(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function GT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=yy((h[ve]||null).action),v=o.submitter;v&&(i=(i=v[ve]||null)?yy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new $s("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cs!==0){var S=v?_y(h,v):new FormData(h);$h(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?_y(h,v):new FormData(h),$h(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var qf=0;qf<cg.length;qf++){var Ff=cg[qf],QT=Ff.toLowerCase(),KT=Ff[0].toUpperCase()+Ff.slice(1);Un(QT,"on"+KT)}Un(sg,"onAnimationEnd"),Un(ag,"onAnimationIteration"),Un(og,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(cT,"onTransitionRun"),Un(hT,"onTransitionStart"),Un(fT,"onTransitionCancel"),Un(lg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function vy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],S=E.instance,x=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=x;try{d(h)}catch(F){xu(F)}h.currentTarget=null,d=S}else for(v=0;v<o.length;v++){if(E=o[v],S=E.instance,x=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=x;try{d(h)}catch(F){xu(F)}h.currentTarget=null,d=S}}}}function Mt(e,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var o=e+"__bubble";a.has(o)||(Ey(i,e,2,!1),a.add(o))}function Gf(e,i,a){var o=0;i&&(o|=4),Ey(a,e,o,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[Qu]){e[Qu]=!0,ho.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||Gf(a,!1,e),Gf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,Gf("selectionchange",!1,i))}}function Ey(e,i,a,o){switch(qy(i)){case 2:var h=EA;break;case 8:h=TA;break;default:h=sd}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Kf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;v=v.return}for(;E!==null;){if(v=kn(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=d=v;continue t}E=E.parentNode}}o=o.return}Zl(function(){var x=d,F=Xs(a),X=[];t:{var B=ug.get(e);if(B!==void 0){var q=$s,at=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":q=na;break;case"focusin":at="focus",q=Js;break;case"focusout":at="blur",q=Js;break;case"beforeblur":case"afterblur":q=Js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=su;break;case sg:case ag:case og:q=ta;break;case lg:q=ou;break;case"scroll":case"scrollend":q=Wl;break;case"wheel":q=ia;break;case"copy":case"cut":case"paste":q=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=So;break;case"toggle":case"beforetoggle":q=uu}var Et=(i&4)!==0,ae=!Et&&(e==="scroll"||e==="scrollend"),k=Et?B!==null?B+"Capture":null:B;Et=[];for(var N=x,z;N!==null;){var Q=N;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||k===null||(Q=rs(N,k),Q!=null&&Et.push(el(N,Q,z))),ae)break;N=N.return}0<Et.length&&(B=new q(B,at,null,a,F),X.push({event:B,listeners:Et}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Tn&&(at=a.relatedTarget||a.fromElement)&&(kn(at)||at[pi]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=x,at=at?kn(at):null,at!==null&&(ae=ht(at),Et=at.tag,at!==ae||Et!==5&&Et!==27&&Et!==6)&&(at=null)):(q=null,at=x),q!==at)){if(Et=bn,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Et=So,Q="onPointerLeave",k="onPointerEnter",N="pointer"),ae=q==null?B:ar(q),z=at==null?B:ar(at),B=new Et(Q,N+"leave",q,a,F),B.target=ae,B.relatedTarget=z,Q=null,kn(F)===x&&(Et=new Et(k,N+"enter",at,a,F),Et.target=z,Et.relatedTarget=ae,Q=Et),ae=Q,q&&at)e:{for(Et=q,k=at,N=0,z=Et;z;z=Ra(z))N++;for(z=0,Q=k;Q;Q=Ra(Q))z++;for(;0<N-z;)Et=Ra(Et),N--;for(;0<z-N;)k=Ra(k),z--;for(;N--;){if(Et===k||k!==null&&Et===k.alternate)break e;Et=Ra(Et),k=Ra(k)}Et=null}else Et=null;q!==null&&Ty(X,B,q,Et,!1),at!==null&&ae!==null&&Ty(X,ae,at,Et,!0)}}t:{if(B=x?ar(x):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=Ym;else if(Te(B))if(Xm)rt=aT;else{rt=rT;var Dt=iT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?x&&yo(x.elementType)&&(rt=Ym):rt=sT;if(rt&&(rt=rt(e,x))){Si(X,rt,a,F);break t}Dt&&Dt(e,B,x),e==="focusout"&&x&&B.type==="number"&&x.memoizedProps.value!=null&&Ys(B,"number",B.value)}switch(Dt=x?ar(x):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(ra=Dt,bh=x,Io=null);break;case"focusout":Io=bh=ra=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,ig(X,a,F);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":ig(X,a,F)}var ut;if(Zn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Vt?H(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Vt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Vt&&(ut=vo()):(Kn=F,fr="value"in Kn?Kn.value:Kn.textContent,Vt=!0)),Dt=Ku(x,mt),0<Dt.length&&(mt=new Ao(mt,e,null,a,F),X.push({event:mt,listeners:Dt}),ut?mt.data=ut:(ut=J(a),ut!==null&&(mt.data=ut)))),(ut=m?Ee(e,a):kt(e,a))&&(mt=Ku(x,"onBeforeInput"),0<mt.length&&(Dt=new Ao("onBeforeInput","beforeinput",null,a,F),X.push({event:Dt,listeners:mt}),Dt.data=ut)),GT(X,e,x,a,F)}vy(X,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ku(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rs(e,a),h!=null&&o.unshift(el(e,h,d)),h=rs(e,i),h!=null&&o.push(el(e,h,d))),e=e.return}return o}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ty(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,S=E.alternate,x=E.stateNode;if(E=E.tag,S!==null&&S===o)break;E!==5&&E!==26&&E!==27||x===null||(S=x,h?(x=rs(a,d),x!=null&&v.unshift(el(a,x,S))):h||(x=rs(a,d),x!=null&&v.push(el(a,x,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var XT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function Ay(e){return(typeof e=="string"?e:""+e).replace(XT,`
`).replace($T,"")}function by(e,i){return i=Ay(i),Ay(e)===i}function Yu(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":ur(e,"class",o);break;case"tabIndex":ur(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(e,a,o);break;case"style":$l(e,o,d);break;case"data":if(i!=="object"){ur(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yu);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Qn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),lr(e,"popover",o);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":lr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ph.get(a)||a,lr(e,a,o))}}function Yf(e,i,a,o,h,d){switch(a){case"style":$l(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):lr(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=d=v=h=null,S=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":S=F;break;case"defaultChecked":x=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,o,F,a,null)}}ns(e,d,E,S,x,v,h,!1),es(e);return;case"select":Mt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?zt(e,!!o,i,!1):a!=null&&zt(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}hr(e,o,h,d),es(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,S,o,a,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Mt(tl[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,x,o,a,null)}return;default:if(yo(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Yf(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function ZT(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,x=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=X;default:o.hasOwnProperty(q)||Yt(e,i,q,null,o,X)}}for(var B in o){var q=o[B];if(X=a[B],o.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&Yt(e,i,B,q,o,X)}}cr(e,v,E,S,x,F,d,h);return;case"select":q=v=E=B=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":q=S;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,S)}for(h in o)if(d=o[h],S=a[h],o.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&Yt(e,i,h,d,o,S)}i=E,a=v,o=q,B!=null?zt(e,!!a,B,!1):!!o!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}is(e,B,q);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Yt(e,i,at,null,o,B)}for(S in o)if(B=o[S],q=a[S],o.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,i,S,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!o.hasOwnProperty(Et)&&Yt(e,i,Et,null,o,B);for(x in o)if(B=o[x],q=a[x],o.hasOwnProperty(x)&&B!==q&&(B!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Yt(e,i,x,B,o,q)}return;default:if(yo(i)){for(var ae in a)B=a[ae],a.hasOwnProperty(ae)&&B!==void 0&&!o.hasOwnProperty(ae)&&Yf(e,i,ae,void 0,o,B);for(F in o)B=o[F],q=a[F],!o.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Yf(e,i,F,B,o,q);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Yt(e,i,k,null,o,B);for(X in o)B=o[X],q=a[X],!o.hasOwnProperty(X)||B===q||B==null&&q==null||Yt(e,i,X,B,o,q)}var Xf=null,$f=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Zf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wf=null;function WT(){var e=window.event;return e&&e.type==="popstate"?e===Wf?!1:(Wf=e,!0):(Wf=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(eA)}:Ry;function eA(e){setTimeout(function(){throw e})}function Jf(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),ul(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ul(i)}function td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":td(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function nA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[sr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function iA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Cy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Dy(e,i,a){switch(i=Xu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Mn=new Map,Ny=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ji=nt.d;nt.d={f:rA,r:sA,D:aA,C:oA,L:lA,m:uA,X:hA,S:cA,M:fA};function rA(){var e=ji.f(),i=Hu();return e||i}function sA(e){var i=yi(e);i!==null&&i.tag===5&&i.type==="form"?ip(i):ji.r(e)}var Ia=typeof document>"u"?null:document;function xy(e,i,a){var o=Ia;if(o&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ny.has(h)||(Ny.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function aA(e){ji.D(e),xy("dns-prefetch",e,null)}function oA(e,i){ji.C(e,i),xy("preconnect",e,i)}function lA(e,i,a){ji.L(e,i,a);var o=Ia;if(o&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var d=h;switch(i){case"style":d=Ca(e);break;case"script":d=Da(e)}Mn.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(nl(d))||i==="script"&&o.querySelector(il(d))||(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function uA(e,i){ji.m(e,i);var a=Ia;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Da(e)}if(!Mn.has(d)&&(e=C({rel:"modulepreload",href:e},i),Mn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}o=a.createElement("link"),Le(o,"link",e),Wt(o),a.head.appendChild(o)}}}function cA(e,i,a){ji.S(e,i,a);var o=Ia;if(o&&e){var h=or(o).hoistableStyles,d=Ca(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(nl(d)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(d))&&ed(e,a);var S=v=o.createElement("link");Wt(S),Le(S,"link",e),S._p=new Promise(function(x,F){S.onload=x,S.onerror=F}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Zu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function hA(e,i){ji.X(e,i);var a=Ia;if(a&&e){var o=or(a).hoistableScripts,h=Da(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=C({src:e,async:!0},i),(i=Mn.get(h))&&nd(e,i),d=a.createElement("script"),Wt(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function fA(e,i){ji.M(e,i);var a=Ia;if(a&&e){var o=or(a).hoistableScripts,h=Da(e),d=o.get(h);d||(d=a.querySelector(il(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&nd(e,i),d=a.createElement("script"),Wt(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Oy(e,i,a,o){var h=(h=yn.current)?$u(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ca(a.href),a=or(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ca(a.href);var d=or(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||dA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Da(a),a=or(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ca(e){return'href="'+ie(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function My(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function dA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),Wt(i),e.head.appendChild(i))}function Da(e){return'[src="'+ie(e)+'"]'}function il(e){return"script[async]"+e}function Vy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return i.instance=o,Wt(o),o;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),Le(o,"style",h),Zu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ca(a.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,Wt(d),d;o=My(a),(h=Mn.get(h))&&ed(o,h),d=(e.ownerDocument||e).createElement("link"),Wt(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Le(d,"link",o),i.state.loading|=4,Zu(d,a.precedence,e),i.instance=d;case"script":return d=Da(a.src),(h=e.querySelector(il(d)))?(i.instance=h,Wt(h),h):(o=a,(h=Mn.get(d))&&(o=C({},a),nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Zu(o,a.precedence,e));return i.instance}function Zu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Wu=null;function ky(e,i,a){if(Wu===null){var o=new Map,h=Wu=new Map;h.set(a,o)}else h=Wu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[sr]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function Uy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function mA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function gA(){}function pA(e,i,a){if(rl===null)throw Error(s(475));var o=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ca(a.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ju.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,Wt(d);return}d=e.ownerDocument||e,a=My(a),(h=Mn.get(h))&&ed(a,h),d=d.createElement("link"),Wt(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Le(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Ju.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function yA(){if(rl===null)throw Error(s(475));var e=rl;return e.stylesheets&&e.count===0&&id(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function id(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,i.forEach(_A,e),tc=null,Ju.call(e))}function _A(e,i){if(!(i.state.loading&4)){var a=tc.get(e);if(a)var o=a.get(null);else{a=new Map,tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Ju.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:L,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function vA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ly(e,i,a,o,h,d,v,E,S,x,F,X){return e=new vA(e,i,a,v,E,S,x,X),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),e.current=d,d.stateNode=e,i=Vh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},gf(d),e}function jy(e){return e?(e=oa,e):oa}function zy(e,i,a,o,h,d){h=jy(h),o.context===null?o.context=h:o.pendingContext=h,o=Er(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Tr(e,o,i),a!==null&&(tn(a,e,i),Ho(a,e,i))}function By(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function rd(e,i){By(e,i),(e=e.alternate)&&By(e,i)}function Hy(e){if(e.tag===13){var i=dr(e,67108864);i!==null&&tn(i,e,67108864),rd(e,67108864)}}var ec=!0;function EA(e,i,a,o){var h=b.T;b.T=null;var d=nt.p;try{nt.p=2,sd(e,i,a,o)}finally{nt.p=d,b.T=h}}function TA(e,i,a,o){var h=b.T;b.T=null;var d=nt.p;try{nt.p=8,sd(e,i,a,o)}finally{nt.p=d,b.T=h}}function sd(e,i,a,o){if(ec){var h=ad(o);if(h===null)Kf(e,i,o,nc,a),Fy(e,o);else if(bA(h,e,i,a,o))o.stopPropagation();else if(Fy(e,o),i&4&&-1<AA.indexOf(e)){for(;h!==null;){var d=yi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-$e(v);E.entanglements[1]|=S,v&=~S}ii(d),(te&6)===0&&(ju=nn()+500,Jo(0))}}break;case 13:E=dr(d,2),E!==null&&tn(E,d,2),Hu(),rd(d,2)}if(d=ad(o),d===null&&Kf(e,i,o,nc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Kf(e,i,o,null,a)}}function ad(e){return e=Xs(e),od(e)}var nc=null;function od(e){if(nc=null,e=kn(e),e!==null){var i=ht(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=qt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return nc=e,null}function qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case _e:return 2;case Ie:return 8;case gi:case Hl:return 32;case ao:return 268435456;default:return 32}default:return 32}}var ld=!1,Cr=null,Dr=null,Nr=null,al=new Map,ol=new Map,xr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=yi(i),i!==null&&Hy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function bA(e,i,a,o,h){switch(i){case"focusin":return Cr=ll(Cr,e,i,a,o,h),!0;case"dragenter":return Dr=ll(Dr,e,i,a,o,h),!0;case"mouseover":return Nr=ll(Nr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,a,o,h)),!0}return!1}function Gy(e){var i=kn(e.target);if(i!==null){var a=ht(i);if(a!==null){if(i=a.tag,i===13){if(i=qt(a),i!==null){e.blockedOn=i,rr(e.priority,function(){if(a.tag===13){var o=gn(),h=dr(a,o);h!==null&&tn(h,a,o),rd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ad(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Tn=o,a.target.dispatchEvent(o),Tn=null}else return i=yi(a),i!==null&&Hy(i),e.blockedOn=a,!1;i.shift()}return!0}function Qy(e,i,a){ic(e)&&a.delete(i)}function SA(){ld=!1,Cr!==null&&ic(Cr)&&(Cr=null),Dr!==null&&ic(Dr)&&(Dr=null),Nr!==null&&ic(Nr)&&(Nr=null),al.forEach(Qy),ol.forEach(Qy)}function rc(e,i){e.blockedOn===i&&(e.blockedOn=null,ld||(ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SA)))}var sc=null;function Ky(e){sc!==e&&(sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(od(o||a)===null)continue;break}var d=yi(a);d!==null&&(e.splice(i,3),i-=3,$h(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ul(e){function i(S){return rc(S,e)}Cr!==null&&rc(Cr,e),Dr!==null&&rc(Dr,e),Nr!==null&&rc(Nr,e),al.forEach(i),ol.forEach(i);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)Gy(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[ve]||null;if(typeof d=="function")v||Ky(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)E=v.formAction;else if(od(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Ky(a)}}}function ud(e){this._internalRoot=e}ac.prototype.render=ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=gn();zy(a,o,e,i,null,null)},ac.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Sa(),zy(e.current,2,null,e,null,null),Hu(),i[pi]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,e),a===0&&Gy(e)}};var Yy=t.version;if(Yy!=="19.0.0")throw Error(s(527,Yy,"19.0.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Z(i),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var wA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Wi=oc.inject(wA),He=oc}catch{}}return hl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=hp,d=fp,v=dp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Ly(e,1,!1,null,null,a,o,h,d,v,E,null),e[pi]=i.current,Qf(e.nodeType===8?e.parentNode:e),new ud(i)},hl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=hp,v=fp,E=dp,S=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),i=Ly(e,1,!0,i,a??null,o,h,d,v,E,S,x),i.context=jy(null),a=i.current,o=gn(),h=Er(o),h.callback=null,Tr(a,h,o),i.current.lanes=o,le(i,o),ii(i),e[pi]=i.current,Qf(e),new ac(i)},hl.version="19.0.0",hl}var r_;function kA(){if(r_)return fd.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=VA(),fd.exports}var UA=kA();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cv=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Lt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:f,...g},p)=>Lt.createElement("svg",{ref:p,...LA,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:Cv("lucide",l),...g},[...f.map(([_,A])=>Lt.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=(r,t)=>{const n=Lt.forwardRef(({className:s,...l},c)=>Lt.createElement(jA,{ref:c,iconNode:t,className:Cv(`lucide-${PA(r)}`,s),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BA=Ps("ChevronDown",zA);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qA=Ps("ChevronRight",HA);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],GA=Ps("Heart",FA);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],KA=Ps("Library",QA);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],XA=Ps("Play",YA);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ZA=Ps("Search",$A);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],JA=Ps("Trash2",WA),Na=[{id:"1",name:"Best of Sheeran",artist:"Ed Sheeran",image:"https://i.pinimg.com/originals/88/3b/2c/883b2c50f85db0b3af2ab8bbc610e4e4.jpg",cover:"https://people.com/thmb/pLCPhXSSCKtpesgNZHfXN8MIISc=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc():focal(749x0:751x2)/Ed-sheeran-autumn-variations-artwork-cover-082423pg-9a117ec25b2a4778a2658855e5b59b28.jpg",aboutCover:"https://images-fe.ssl-images-amazon.com/images/S/pv-target-images/49b7de2367c880439acd0cdfd75b019f3d32e72e74324f2312a4cc3bdc3165bb._RI_TTW_SX1080_FMpng_.png",songs:[{id:"1",title:"Shape of You",artist:"Ed Sheeran",audio:"/assets/music/shape-of-you.mp3",image:"https://i.pinimg.com/originals/88/3b/2c/883b2c50f85db0b3af2ab8bbc610e4e4.jpg",dateAdded:"Dec 10,2021"},{id:"2",title:"Perfect",artist:"Ed Sheeran",audio:"/assets/music/perfect.mp3",dateAdded:"Dec 10,2021"}]},{id:"2",name:"Blinding Lights",artist:"The Weeknd",image:"/assets/music-cover/blinding-lights.jpg",songs:[{id:"1",title:"Blinding Lights",artist:"Ed Sheeran",audio:"/assets/music/blinding-lights.mp3"},{id:"2",title:"Save Your Tears",artist:"Ed Sheeran",audio:"/assets/music/save-your-tears.mp3"}]},{id:"3",name:"God's Plan",artist:"Drake",image:"/assets/music-cover/gods-plan.jpg",songs:[{id:"1",title:"God's Plan",artist:"Ed Sheeran",audio:"/assets/music/gods-plan.mp3"},{id:"2",title:"In My Feelings",artist:"Ed Sheeran",audio:"/assets/music/in-my-feelings.mp3"}]}],tb=[{id:"1",title:"My Time is Now",artist:"John Cena",image:"https://th.bing.com/th/id/OIP.nf38N0RFoOcRl84-mEO5WAHaEo?rs=1&pid=ImgDetMain",audio:"assets/musics/WWE_ The Time Is Now (John Cena).mp3"},{id:"2",title:"Lose Yourself",artist:"Eminem",image:"https://th.bing.com/th/id/OIP.3LZ8mNoxL8_8lAjeB58JeQHaHa?rs=1&pid=ImgDetMain"},{id:"3",title:"God’s Plan",artist:"Drake",image:"https://th.bing.com/th/id/OIP.nZOvZW9SEjx2FzN1JXYj7AHaHa?rs=1&pid=ImgDetMain"},{id:"4",title:"Rolling in the Deep",artist:"Adele",image:"https://th.bing.com/th/id/OIP.Zv7bcmH3X9KdrU2D6YZBGQHaHa?rs=1&pid=ImgDetMain"}],Dv=Lt.createContext(void 0),eb=({children:r})=>{const[t,n]=Lt.useState(null),[s,l]=Lt.useState(!1);return j.jsx(Dv.Provider,{value:{currentSong:t,setCurrentSong:n,isPlaying:s,setIsPlaying:l},children:r})},Nv=()=>{const r=Lt.useContext(Dv);if(!r)throw new Error("useMusic must be used within a MusicProvider");return r},nb=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ib=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,L=_&63;p||(L=64,f||(V=64)),s.push(n[A],n[I],n[V],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ib(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new rb;const V=c<<2|g>>4;if(s.push(V),_!==64){const L=g<<4&240|_>>2;if(s.push(L),I!==64){const G=_<<6&192|I;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sb=function(r){const t=xv(r);return Ov.encodeByteArray(t,!0)},Sc=function(r){return sb(r).replace(/\./g,"")},Mv=function(r){try{return Ov.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=()=>ab().__FIREBASE_DEFAULTS__,lb=()=>{if(typeof process>"u"||typeof s_>"u")return;const r=s_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ub=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Mv(r[1]);return t&&JSON.parse(t)},Fc=()=>{try{return nb()||ob()||lb()||ub()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vv=r=>{var t,n;return(n=(t=Fc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cb=r=>{const t=Vv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},kv=()=>{var r;return(r=Fc())===null||r===void 0?void 0:r.config},Uv=r=>{var t;return(t=Fc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function mb(){var r;const t=(r=Fc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _b(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vb(){return!mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function Tb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="FirebaseError";class Xi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ab,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?bb(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Xi(l,g,s)}}function bb(r,t){return r.replace(Sb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Sb=/\{\$([^}]+)}/g;function wb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fi(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(a_(c)&&a_(f)){if(!Fi(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function a_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Rb(r,t){const n=new Ib(r,t);return n.subscribe.bind(n)}class Ib{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Cb(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=pd),l.error===void 0&&(l.error=pd),l.complete===void 0&&(l.complete=pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xb(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Nb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nb(r){return r===Ds?void 0:r}function xb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Db(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const Mb={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},Vb=xt.INFO,kb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Ub=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=kb[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nm{constructor(t){this.name=t,this._logLevel=Vb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Pb=(r,t)=>t.some(n=>r instanceof n);let o_,l_;function Lb(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jb(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Cd=new WeakMap,Lv=new WeakMap,yd=new WeakMap,im=new WeakMap;function zb(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Lr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Pv.set(n,r)}).catch(()=>{}),im.set(t,r),t}function Bb(r){if(Cd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Cd.set(r,t)}let Dd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Cd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Lv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Hb(r){Dd=r(Dd)}function qb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(_d(this),t,...n);return Lv.set(s,t.sort?t.sort():[t]),Lr(s)}:jb().includes(r)?function(...t){return r.apply(_d(this),t),Lr(Pv.get(this))}:function(...t){return Lr(r.apply(_d(this),t))}}function Fb(r){return typeof r=="function"?qb(r):(r instanceof IDBTransaction&&Bb(r),Pb(r,Lb())?new Proxy(r,Dd):r)}function Lr(r){if(r instanceof IDBRequest)return zb(r);if(yd.has(r))return yd.get(r);const t=Fb(r);return t!==r&&(yd.set(r,t),im.set(t,r)),t}const _d=r=>im.get(r);function Gb(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Qb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],vd=new Map;function u_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=Kb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Qb.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return vd.set(t,c),c}Hb(r=>({...r,get:(t,n,s)=>u_(t,n)||r.get(t,n,s),has:(t,n)=>!!u_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Xb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nd="@firebase/app",c_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new nm("@firebase/app"),$b="@firebase/app-compat",Zb="@firebase/analytics-compat",Wb="@firebase/analytics",Jb="@firebase/app-check-compat",tS="@firebase/app-check",eS="@firebase/auth",nS="@firebase/auth-compat",iS="@firebase/database",rS="@firebase/data-connect",sS="@firebase/database-compat",aS="@firebase/functions",oS="@firebase/functions-compat",lS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",hS="@firebase/messaging-compat",fS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",gS="@firebase/remote-config-compat",pS="@firebase/storage",yS="@firebase/storage-compat",_S="@firebase/firestore",vS="@firebase/vertexai",ES="@firebase/firestore-compat",TS="firebase",AS="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",bS={[Nd]:"fire-core",[$b]:"fire-core-compat",[Wb]:"fire-analytics",[Zb]:"fire-analytics-compat",[tS]:"fire-app-check",[Jb]:"fire-app-check-compat",[eS]:"fire-auth",[nS]:"fire-auth-compat",[iS]:"fire-rtdb",[rS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[aS]:"fire-fn",[oS]:"fire-fn-compat",[lS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[hS]:"fire-fcm-compat",[fS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[gS]:"fire-rc-compat",[pS]:"fire-gcs",[yS]:"fire-gcs-compat",[_S]:"fire-fst",[ES]:"fire-fst-compat",[vS]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,SS=new Map,Od=new Map;function h_(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ja(r){const t=r.name;if(Od.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,r);for(const n of wc.values())h_(n,r);for(const n of SS.values())h_(n,r);return!0}function rm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Nl("app","Firebase",wS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=AS;function jv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(n||(n=kv()),!n)throw jr.create("no-options");const c=wc.get(l);if(c){if(Fi(n,c.options)&&Fi(s,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const f=new Ob(l);for(const p of Od.values())f.addComponent(p);const g=new RS(n,s,f);return wc.set(l,g),g}function zv(r=xd){const t=wc.get(r);if(!t&&r===xd&&kv())return jv();if(!t)throw jr.create("no-app",{appName:r});return t}function zr(r,t,n){var s;let l=(s=bS[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}ja(new Ms(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebase-heartbeat-database",CS=1,bl="firebase-heartbeat-store";let Ed=null;function Bv(){return Ed||(Ed=Gb(IS,CS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Ed}async function DS(r){try{const n=(await Bv()).transaction(bl),s=await n.objectStore(bl).get(Hv(r));return await n.done,s}catch(t){if(t instanceof Xi)Gi.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function f_(r,t){try{const s=(await Bv()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,Hv(r)),await s.done}catch(n){if(n instanceof Xi)Gi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function Hv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1024,xS=30;class OS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=d_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>xS){const f=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:s,unsentEntries:l}=MS(this._heartbeatsCache.heartbeats),c=Sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Gi.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function MS(r,t=NS){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),m_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),m_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?Tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function m_(r){return Sc(JSON.stringify({version:2,heartbeats:r})).length}function kS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r){ja(new Ms("platform-logger",t=>new Yb(t),"PRIVATE")),ja(new Ms("heartbeat",t=>new OS(t),"PRIVATE")),zr(Nd,c_,r),zr(Nd,c_,"esm2017"),zr("fire-js","")}US("");var PS="firebase",LS="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(PS,LS,"app");function sm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jS=qv,Fv=new Nl("auth","Firebase",qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new nm("@firebase/auth");function zS(r,...t){Rc.logLevel<=xt.WARN&&Rc.warn(`Auth (${Za}): ${r}`,...t)}function mc(r,...t){Rc.logLevel<=xt.ERROR&&Rc.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r,...t){throw om(r,...t)}function Bn(r,...t){return om(r,...t)}function am(r,t,n){const s=Object.assign(Object.assign({},jS()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function Os(r){return am(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BS(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ci(r,"argument-error"),am(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function om(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Fv.create(r,...t)}function _t(r,t,...n){if(!r)throw om(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mc(t),new Error(t)}function Qi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function HS(){return g_()==="http:"||g_()==="https:"}function g_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HS()||pb()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qi(n>t,"Short delay should be less than long delay!"),this.isMobile=db()||yb()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r,t){Qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Ol(3e4,6e4);function um(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Wa(r,t,n,s,l={}){return Qv(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=xl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return gb()||(_.referrerPolicy="no-referrer"),Gv.fetch()(Kv(r,r.config.apiHost,n,g),_)})}async function Qv(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},GS),t);try{const l=new YS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw lc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw lc(r,"user-disabled",f);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw am(r,A,_);ci(r,A)}}catch(l){if(l instanceof Xi)throw l;ci(r,"network-request-failed",{message:String(l)})}}async function KS(r,t,n,s,l={}){const c=await Wa(r,t,n,s,l);return"mfaPendingCredential"in c&&ci(r,"multi-factor-auth-required",{_serverResponse:c}),c}function Kv(r,t,n,s){const l=`${t}${n}?${s}`;return r.config.emulator?lm(r.config,l):`${r.config.apiScheme}://${l}`}class YS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),QS.get())})}}function lc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Bn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(r,t){return Wa(r,"POST","/v1/accounts:delete",t)}async function Yv(r,t){return Wa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $S(r,t=!1){const n=en(r),s=await n.getIdToken(t),l=cm(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:pl(Td(l.auth_time)),issuedAtTime:pl(Td(l.iat)),expirationTime:pl(Td(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Td(r){return Number(r)*1e3}function cm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(n);return l?JSON.parse(l):(mc("Failed to decode base64 JWT payload"),null)}catch(l){return mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function p_(r){const t=cm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Xi&&ZS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Sl(r,Yv(n,{idToken:s}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Xv(c.providerUserInfo):[],g=tw(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Vd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function JS(r){const t=en(r);await Ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Xv(r){return r.map(t=>{var{providerId:n}=t,s=sm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,t){const n=await Qv(r,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=Kv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Gv.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nw(r,t){return Wa(r,"POST","/v2/accounts:revokeToken",um(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=p_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await ew(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new ka;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hi{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=sm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Vd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $S(this,t)}reload(){return JS(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ic(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await Sl(this,XS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,V=(l=n.email)!==null&&l!==void 0?l:void 0,L=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Y=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ct=(_=n.createdAt)!==null&&_!==void 0?_:void 0,lt=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:st,emailVerified:bt,isAnonymous:yt,providerData:At,stsTokenManager:M}=n;_t(st&&M,t,"internal-error");const w=ka.fromJSON(this.name,M);_t(typeof st=="string",t,"internal-error"),Mr(I,t.name),Mr(V,t.name),_t(typeof bt=="boolean",t,"internal-error"),_t(typeof yt=="boolean",t,"internal-error"),Mr(L,t.name),Mr(G,t.name),Mr(W,t.name),Mr(Y,t.name),Mr(ct,t.name),Mr(lt,t.name);const b=new Hi({uid:st,auth:t,email:V,emailVerified:bt,displayName:I,isAnonymous:yt,photoURL:G,phoneNumber:L,tenantId:W,stsTokenManager:w,createdAt:ct,lastLoginAt:lt});return At&&Array.isArray(At)&&(b.providerData=At.map(C=>Object.assign({},C))),Y&&(b._redirectEventId=Y),b}static async _fromIdTokenResponse(t,n,s=!1){const l=new ka;l.updateFromServerResponse(n);const c=new Hi({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ic(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new ka;g.updateFromIdToken(s);const p=new Hi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Vd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function qi(r){Qi(r instanceof Function,"Expected a class definition");let t=y_.get(r);return t?(Qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,y_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$v.type="NONE";const __=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ua{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=gc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ua(qi(__),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||qi(__);const f=gc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(f);if(A){const I=Hi._fromJSON(t,A);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ua(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Ua(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n0(t))return"Blackberry";if(i0(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||Jv(t))&&!t.includes("edge/"))return"Chrome";if(e0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Zv(r=Ye()){return/firefox\//i.test(r)}function Wv(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jv(r=Ye()){return/crios\//i.test(r)}function t0(r=Ye()){return/iemobile/i.test(r)}function e0(r=Ye()){return/android/i.test(r)}function n0(r=Ye()){return/blackberry/i.test(r)}function i0(r=Ye()){return/webos/i.test(r)}function hm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iw(r=Ye()){var t;return hm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rw(){return _b()&&document.documentMode===10}function r0(r=Ye()){return hm(r)||e0(r)||i0(r)||n0(r)||/windows phone/i.test(r)||t0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,t=[]){let n;switch(r){case"Browser":n=v_(Ye());break;case"Worker":n=`${v_(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(r,t={}){return Wa(r,"GET","/v2/passwordPolicy",um(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=6;class lw{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ow,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Yv(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ic(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Os(this));const n=t?en(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aw(this),n=new lw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nw(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&zS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gc(r){return en(r)}class E_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rb(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cw(r){fm=r}function hw(r){return fm.loadJS(r)}function fw(){return fm.gapiScript}function dw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r,t){const n=rm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Fi(c,t??{}))return l;ci(l,"already-initialized")}return n.initialize({options:t})}function gw(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function pw(r,t,n){const s=Gc(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=a0(t),{host:f,port:g}=yw(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},A=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Fi(_,s.config.emulator)&&Fi(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,_w()}function a0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function yw(r){const t=a0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:T_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:T_(f)}}}function T_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function _w(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(r,t){return KS(r,"POST","/v1/accounts:signInWithIdp",um(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="http://localhost";class Vs extends o0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=sm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Vs(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Pa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Pa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pa(t,n)}buildRequest(){const t={requestUri:vw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=xl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends dm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ml{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ml{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ml{constructor(){super("twitter.com")}static credential(t,n){return Vs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Hi._fromIdTokenResponse(t,s,l),f=A_(s);return new za({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=A_(s);return new za({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function A_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Xi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Cc(t,n,s,l)}}function l0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(r,c,t,s):c})}async function Ew(r,t,n=!1){const s=await Sl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return za._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Os(s));const l="reauthenticate";try{const c=await Sl(r,l0(s,l,t,r),n);_t(c.idToken,s,"internal-error");const f=cm(c.idToken);_t(f,s,"internal-error");const{sub:g}=f;return _t(r.uid===g,s,"user-mismatch"),za._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ci(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r,t,n=!1){if(zn(r.app))return Promise.reject(Os(r));const s="signIn",l=await l0(r,s,t),c=await za._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function bw(r,t,n,s){return en(r).onIdTokenChanged(t,n,s)}function Sw(r,t,n){return en(r).beforeAuthStateChanged(t,n)}function ww(r){return en(r).signOut()}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=1e3,Iw=10;class c0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);rw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Iw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}c0.type="LOCAL";const Cw=c0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}h0.type="SESSION";const f0=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Qc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await Dw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=mm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(I){const V=I;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function xw(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function Ow(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Vw(){return d0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",kw=1,Nc="firebaseLocalStorage",g0="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kc(r,t){return r.transaction([Nc],t?"readwrite":"readonly").objectStore(Nc)}function Uw(){const r=indexedDB.deleteDatabase(m0);return new Vl(r).toPromise()}function kd(){const r=indexedDB.open(m0,kw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nc,{keyPath:g0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nc)?t(s):(s.close(),await Uw(),t(await kd()))})})}async function b_(r,t,n){const s=Kc(r,!0).put({[g0]:t,value:n});return new Vl(s).toPromise()}async function Pw(r,t){const n=Kc(r,!1).get(t),s=await new Vl(n).toPromise();return s===void 0?null:s.value}function S_(r,t){const n=Kc(r,!0).delete(t);return new Vl(n).toPromise()}const Lw=800,jw=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>jw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(Vw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Ow(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kd();return await b_(t,Dc,"1"),await S_(t,Dc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Pw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Kc(l,!1).getAll();return new Vl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const zw=p0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r,t){return t?qi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends o0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Bw(r){return Aw(r.auth,new gm(r),r.bypassAuthState)}function Hw(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),Tw(n,new gm(r),r.bypassAuthState)}async function qw(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),Ew(n,new gm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return Hw;default:ci(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Ol(2e3,1e4);async function Gw(r,t,n){if(zn(r.app))return Promise.reject(Bn(r,"operation-not-supported-in-this-environment"));const s=Gc(r);BS(r,t,dm);const l=y0(s,n);return new Ns(s,"signInViaPopup",t,l).executeNotNull()}class Ns extends _0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Fw.get())};t()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="pendingRedirect",pc=new Map;class Kw extends _0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=pc.get(this.auth._key());if(!t){try{const s=await Yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}pc.set(this.auth._key(),t)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yw(r,t){const n=Zw(t),s=$w(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Xw(r,t){pc.set(r._key(),t)}function $w(r){return qi(r._redirectPersistence)}function Zw(r){return gc(Qw,r.config.apiKey,r.name)}async function Ww(r,t,n=!1){if(zn(r.app))return Promise.reject(Os(r));const s=Gc(r),l=y0(s,t),f=await new Kw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=10*60*1e3;class tR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!v0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(t))}saveEventToCache(t){this.cachedEventUids.add(w_(t)),this.lastProcessedEventTime=Date.now()}}function w_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function v0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function eR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(r,t={}){return Wa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rR=/^https?/;async function sR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await nR(r);for(const n of t)try{if(aR(n))return}catch{}ci(r,"unauthorized-domain")}function aR(r){const t=Md(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rR.test(n))return!1;if(iR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Ol(3e4,6e4);function R_(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function lR(r){return new Promise((t,n)=>{var s,l,c;function f(){R_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Bn(r,"network-request-failed"))},timeout:oR.get()})}if(!((l=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)f();else{const g=dw("iframefcb");return si()[g]=()=>{gapi.load?f():n(Bn(r,"network-request-failed"))},hw(`${fw()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw yc=null,t})}let yc=null;function uR(r){return yc=yc||lR(r),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Ol(5e3,15e3),hR="__/auth/iframe",fR="emulator/auth/iframe",dR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gR(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?lm(t,fR):`https://${r.config.authDomain}/${hR}`,s={apiKey:t.apiKey,appName:r.name,v:Za},l=mR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${xl(s).slice(1)}`}async function pR(r){const t=await uR(r),n=si().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:gR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Bn(r,"network-request-failed"),g=si().setTimeout(()=>{c(f)},cR.get());function p(){si().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,vR=600,ER="_blank",TR="http://localhost";class I_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AR(r,t,n,s=_R,l=vR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},yR),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ye().toLowerCase();n&&(g=Jv(_)?ER:n),Zv(_)&&(t=t||TR,p.scrollbars="yes");const A=Object.entries(p).reduce((V,[L,G])=>`${V}${L}=${G},`,"");if(iw(_)&&g!=="_self")return bR(t||"",g),new I_(null);const I=window.open(t||"",g,A);_t(I,r,"popup-blocked");try{I.focus()}catch{}return new I_(I)}function bR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__/auth/handler",wR="emulator/auth/handler",RR=encodeURIComponent("fac");async function C_(r,t,n,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Za,eventId:l};if(t instanceof dm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",wb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))f[A]=I}if(t instanceof Ml){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${RR}=${encodeURIComponent(p)}`:"";return`${IR(r)}?${xl(g).slice(1)}${_}`}function IR({config:r}){return r.emulator?lm(r,wR):`https://${r.authDomain}/${SR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=Ww,this._overrideRedirectResult=Xw}async _openPopup(t,n,s,l){var c;Qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await C_(t,n,s,Md(),l);return AR(t,f,mm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await C_(t,n,s,Md(),l);return xw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await pR(t),s=new tR(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ad,{type:Ad},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ad];f!==void 0&&n(!!f),ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return r0()||Wv()||hm()}}const DR=CR;var D_="@firebase/auth",N_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OR(r){ja(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(r)},_=new uw(s,l,c,p);return gw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ja(new Ms("auth-internal",t=>{const n=Gc(t.getProvider("auth").getImmediate());return(s=>new NR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(D_,N_,xR(r)),zr(D_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=5*60,VR=Uv("authIdTokenMaxAge")||MR;let x_=null;const kR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VR)return;const l=n==null?void 0:n.token;x_!==l&&(x_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UR(r=zv()){const t=rm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=mw(r,{popupRedirectResolver:DR,persistence:[zw,Cw,f0]}),s=Uv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=kR(c.toString());Sw(n,f,()=>f(n.currentUser)),bw(n,g=>f(g))}}const l=Vv("auth");return l&&pw(n,`http://${l}`),n}function PR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}cw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Bn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",PR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OR("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,E0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function b(){}b.prototype=w.prototype,M.D=w.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(C,O,P){for(var R=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)R[ye-2]=arguments[ye];return w.prototype[O].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,b){b||(b=0);var C=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)C[O]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(O=0;16>O;++O)C[O]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=M.g[0],b=M.g[1],O=M.g[2];var P=M.g[3],R=w+(P^b&(O^P))+C[0]+3614090360&4294967295;w=b+(R<<7&4294967295|R>>>25),R=P+(O^w&(b^O))+C[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(b^P&(w^b))+C[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=b+(w^O&(P^w))+C[3]+3250441966&4294967295,b=O+(R<<22&4294967295|R>>>10),R=w+(P^b&(O^P))+C[4]+4118548399&4294967295,w=b+(R<<7&4294967295|R>>>25),R=P+(O^w&(b^O))+C[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(b^P&(w^b))+C[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=b+(w^O&(P^w))+C[7]+4249261313&4294967295,b=O+(R<<22&4294967295|R>>>10),R=w+(P^b&(O^P))+C[8]+1770035416&4294967295,w=b+(R<<7&4294967295|R>>>25),R=P+(O^w&(b^O))+C[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(b^P&(w^b))+C[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=b+(w^O&(P^w))+C[11]+2304563134&4294967295,b=O+(R<<22&4294967295|R>>>10),R=w+(P^b&(O^P))+C[12]+1804603682&4294967295,w=b+(R<<7&4294967295|R>>>25),R=P+(O^w&(b^O))+C[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(b^P&(w^b))+C[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=b+(w^O&(P^w))+C[15]+1236535329&4294967295,b=O+(R<<22&4294967295|R>>>10),R=w+(O^P&(b^O))+C[1]+4129170786&4294967295,w=b+(R<<5&4294967295|R>>>27),R=P+(b^O&(w^b))+C[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^b&(P^w))+C[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=b+(P^w&(O^P))+C[0]+3921069994&4294967295,b=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(b^O))+C[5]+3593408605&4294967295,w=b+(R<<5&4294967295|R>>>27),R=P+(b^O&(w^b))+C[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^b&(P^w))+C[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=b+(P^w&(O^P))+C[4]+3889429448&4294967295,b=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(b^O))+C[9]+568446438&4294967295,w=b+(R<<5&4294967295|R>>>27),R=P+(b^O&(w^b))+C[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^b&(P^w))+C[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=b+(P^w&(O^P))+C[8]+1163531501&4294967295,b=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(b^O))+C[13]+2850285829&4294967295,w=b+(R<<5&4294967295|R>>>27),R=P+(b^O&(w^b))+C[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^b&(P^w))+C[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=b+(P^w&(O^P))+C[12]+2368359562&4294967295,b=O+(R<<20&4294967295|R>>>12),R=w+(b^O^P)+C[5]+4294588738&4294967295,w=b+(R<<4&4294967295|R>>>28),R=P+(w^b^O)+C[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^b)+C[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=b+(O^P^w)+C[14]+4259657740&4294967295,b=O+(R<<23&4294967295|R>>>9),R=w+(b^O^P)+C[1]+2763975236&4294967295,w=b+(R<<4&4294967295|R>>>28),R=P+(w^b^O)+C[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^b)+C[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=b+(O^P^w)+C[10]+3200236656&4294967295,b=O+(R<<23&4294967295|R>>>9),R=w+(b^O^P)+C[13]+681279174&4294967295,w=b+(R<<4&4294967295|R>>>28),R=P+(w^b^O)+C[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^b)+C[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=b+(O^P^w)+C[6]+76029189&4294967295,b=O+(R<<23&4294967295|R>>>9),R=w+(b^O^P)+C[9]+3654602809&4294967295,w=b+(R<<4&4294967295|R>>>28),R=P+(w^b^O)+C[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^b)+C[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=b+(O^P^w)+C[2]+3299628645&4294967295,b=O+(R<<23&4294967295|R>>>9),R=w+(O^(b|~P))+C[0]+4096336452&4294967295,w=b+(R<<6&4294967295|R>>>26),R=P+(b^(w|~O))+C[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~b))+C[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=b+(P^(O|~w))+C[5]+4237533241&4294967295,b=O+(R<<21&4294967295|R>>>11),R=w+(O^(b|~P))+C[12]+1700485571&4294967295,w=b+(R<<6&4294967295|R>>>26),R=P+(b^(w|~O))+C[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~b))+C[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=b+(P^(O|~w))+C[1]+2240044497&4294967295,b=O+(R<<21&4294967295|R>>>11),R=w+(O^(b|~P))+C[8]+1873313359&4294967295,w=b+(R<<6&4294967295|R>>>26),R=P+(b^(w|~O))+C[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~b))+C[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=b+(P^(O|~w))+C[13]+1309151649&4294967295,b=O+(R<<21&4294967295|R>>>11),R=w+(O^(b|~P))+C[4]+4149444226&4294967295,w=b+(R<<6&4294967295|R>>>26),R=P+(b^(w|~O))+C[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~b))+C[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=b+(P^(O|~w))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var b=w-this.blockSize,C=this.B,O=this.h,P=0;P<w;){if(O==0)for(;P<=b;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<w;)if(C[O++]=M.charCodeAt(P++),O==this.blockSize){l(this,C),O=0;break}}else for(;P<w;)if(C[O++]=M[P++],O==this.blockSize){l(this,C),O=0;break}}this.h=O,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var b=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=b&255,b/=256;for(this.u(M),M=Array(16),w=b=0;4>w;++w)for(var C=0;32>C;C+=8)M[b++]=this.g[w]>>>C&255;return M};function c(M,w){var b=g;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=w(M)}function f(M,w){this.h=w;for(var b=[],C=!0,O=M.length-1;0<=O;O--){var P=M[O]|0;C&&P==w||(b[O]=P,C=!1)}this.g=b}var g={};function p(M){return-128<=M&&128>M?c(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Y(_(-M));for(var w=[],b=1,C=0;M>=b;C++)w[C]=M/b|0,b*=4294967296;return new f(w,0)}function A(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return Y(A(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(w,8)),C=I,O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O),R=parseInt(M.substring(O,O+P),w);8>P?(P=_(Math.pow(w,P)),C=C.j(P).add(_(R))):(C=C.j(b),C=C.add(_(R)))}return C}var I=p(0),V=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-Y(this).m();for(var M=0,w=1,b=0;b<this.g.length;b++){var C=this.i(b);M+=(0<=C?C:4294967296+C)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(G(this))return"0";if(W(this))return"-"+Y(this).toString(M);for(var w=_(Math.pow(M,6)),b=this,C="";;){var O=bt(b,w).g;b=ct(b,O.j(w));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=O,G(b))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function G(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function W(M){return M.h==-1}r.l=function(M){return M=ct(this,M),W(M)?-1:G(M)?0:1};function Y(M){for(var w=M.g.length,b=[],C=0;C<w;C++)b[C]=~M.g[C];return new f(b,~M.h).add(V)}r.abs=function(){return W(this)?Y(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],C=0,O=0;O<=w;O++){var P=C+(this.i(O)&65535)+(M.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);C=R>>>16,P&=65535,R&=65535,b[O]=R<<16|P}return new f(b,b[b.length-1]&-2147483648?-1:0)};function ct(M,w){return M.add(Y(w))}r.j=function(M){if(G(this)||G(M))return I;if(W(this))return W(M)?Y(this).j(Y(M)):Y(Y(this).j(M));if(W(M))return Y(this.j(Y(M)));if(0>this.l(L)&&0>M.l(L))return _(this.m()*M.m());for(var w=this.g.length+M.g.length,b=[],C=0;C<2*w;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<M.g.length;O++){var P=this.i(C)>>>16,R=this.i(C)&65535,ye=M.i(O)>>>16,he=M.i(O)&65535;b[2*C+2*O]+=R*he,lt(b,2*C+2*O),b[2*C+2*O+1]+=P*he,lt(b,2*C+2*O+1),b[2*C+2*O+1]+=R*ye,lt(b,2*C+2*O+1),b[2*C+2*O+2]+=P*ye,lt(b,2*C+2*O+2)}for(C=0;C<w;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=w;C<2*w;C++)b[C]=0;return new f(b,0)};function lt(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function st(M,w){this.g=M,this.h=w}function bt(M,w){if(G(w))throw Error("division by zero");if(G(M))return new st(I,I);if(W(M))return w=bt(Y(M),w),new st(Y(w.g),Y(w.h));if(W(w))return w=bt(M,Y(w)),new st(Y(w.g),w.h);if(30<M.g.length){if(W(M)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var b=V,C=w;0>=C.l(M);)b=yt(b),C=yt(C);var O=At(b,1),P=At(C,1);for(C=At(C,2),b=At(b,2);!G(C);){var R=P.add(C);0>=R.l(M)&&(O=O.add(b),P=R),C=At(C,1),b=At(b,1)}return w=ct(M,O.j(w)),new st(O,w)}for(O=I;0<=M.l(w);){for(b=Math.max(1,Math.floor(M.m()/w.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=_(b),R=P.j(w);W(R)||0<R.l(M);)b-=C,P=_(b),R=P.j(w);G(P)&&(P=V),O=O.add(P),M=ct(M,R)}return new st(O,M)}r.A=function(M){return bt(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)&M.i(C);return new f(b,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)|M.i(C);return new f(b,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)^M.i(C);return new f(b,this.h^M.h)};function yt(M){for(var w=M.g.length+1,b=[],C=0;C<w;C++)b[C]=M.i(C)<<1|M.i(C-1)>>>31;return new f(b,M.h)}function At(M,w){var b=w>>5;w%=32;for(var C=M.g.length-b,O=[],P=0;P<C;P++)O[P]=0<w?M.i(P+b)>>>w|M.i(P+b+1)<<32-w:M.i(P+b);return new f(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,E0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,Br=f}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T0,fl,A0,_c,Ud,b0,S0,w0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function V(u,m,y){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,V.apply(null,arguments)}function L(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function G(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,J)}}function W(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Y(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let J=0;J<H;J++)u[U+J]=T[J]}else u.push(T)}}class ct{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var yt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function At(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let H=0;H<b.length;H++)y=b[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function O(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function R(){var u=qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,y){const T=he.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var he=new ct(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ht=!1,qt=new ye,D=()=>{const u=g.Promise.resolve(void 0);gt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){P(y)}var m=he;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{bt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}G(Rt,et);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),jt=0;function ne(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++jt,this.da=this.fa=!1}function Qt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xe(u){this.src=u,this.g={},this.h=0}Xe.prototype.add=function(u,m,y,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var J=yn(u,m,T,U);return-1<J?(m=u[J],y||(m.fa=!1)):(m=new ne(m,this.src,H,!!T,U),m.fa=y,u.push(m)),m};function di(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(Qt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function yn(u,m,y,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==T)return U}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Zi={};function mi(u,m,y,T,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)mi(u,m[H],y,T,U);return null}return y=Bl(y),u&&u[fe]?u.K(m,y,_(T)?!!T.capture:!1,U):ro(u,m,y,!1,T,U)}function ro(u,m,y,T,U,H){if(!m)throw Error("Invalid event type");var J=_(U)?!!U.capture:!!U,Vt=so(u);if(Vt||(u[$i]=Vt=new Xe(u)),y=Vt.add(m,y,T,J,H),y.proxy)return y;if(T=zs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)nt||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Hs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function zs(){function u(y){return m.call(u.src,u.listener,y)}const m=hh;return u}function Bs(u,m,y,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Bs(u,m[H],y,T,U);else T=_(T)?!!T.capture:!!T,y=Bl(y),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=yn(H,y,T,U),-1<y&&(Qt(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=so(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yn(m,y,T,U)),(y=-1<u?m[u]:null)&&Zr(y))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])di(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Hs(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=so(m))?(di(y,u),y.h==0&&(y.src=null,m[$i]=null)):Qt(u)}}}function Hs(u){return u in Zi?Zi[u]:Zi[u]="on"+u}function hh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=y.call(T,m)}return u}function so(u){return u=u[$i],u instanceof Xe?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function _e(){ot.call(this),this.i=new Xe(this),this.M=this,this.F=null}G(_e,ot),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,y,T){Bs(this,u,m,y,T)};function Ie(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var U=m;m=new et(T,u),C(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var J=m.g=y[H];U=gi(J,T,!0,m)&&U}if(J=m.g=u,U=gi(J,T,!0,m)&&U,U=gi(J,T,!1,m)&&U,y)for(H=0;H<y.length;H++)J=m.g=y[H],U=gi(J,T,!1,m)&&U}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Qt(y[T]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},_e.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function gi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var J=m[H];if(J&&!J.da&&J.capture==y){var Vt=J.listener,Ee=J.ha||J.src;J.fa&&di(u.i,J),U=Vt.call(Ee,T)!==!1&&U}}return U&&!T.defaultPrevented}function Hl(u,m,y){if(typeof u=="function")y&&(u=V(u,y));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ao(u){u.g=Hl(()=>{u.g=null,u.i&&(u.i=!1,ao(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fh extends ot{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){ot.call(this),this.h=u,this.g={}}G(Wr,ot);var Wi=[];function He(u){At(u.g,function(m,y){this.g.hasOwnProperty(y)&&Zr(m)},u),u.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),He(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=g.JSON.stringify,Hn=g.JSON.parse,$e=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function lo(){}lo.prototype.h=null;function ql(u){return u.h||(u.h=u.i())}function Fl(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){et.call(this,"d")}G(Ji,et);function Vn(){et.call(this,"c")}G(Vn,et);var _n={},tr=null;function qs(){return tr=tr||new _e}_n.La="serverreachability";function uo(u){et.call(this,_n.La,u)}G(uo,et);function er(u){const m=qs();Ie(m,new uo(m))}_n.STAT_EVENT="statevent";function Fs(u,m){et.call(this,_n.STAT_EVENT,u),this.stat=m}G(Fs,et);function le(u){const m=qs();Ie(m,new Fs(m,u))}_n.Ma="timingevent";function Gl(u,m){et.call(this,_n.Ma,u),this.size=m}G(Gl,et);function nr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function Ql(u,m,y,T,U,H){u.info(function(){if(u.g)if(H)for(var J="",Vt=H.split("&"),Ee=0;Ee<Vt.length;Ee++){var kt=Vt[Ee].split("=");if(1<kt.length){var Ne=kt[0];kt=kt[1];var Te=Ne.split("_");J=2<=Te.length&&Te[1]=="type"?J+(Ne+"="+kt+"&"):J+(Ne+"=redacted&")}}else J=null;else J=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+J})}function Kl(u,m,y,T,U,H,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+J})}function rr(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ce(u,y)+(T?" "+T:"")})}function Fn(u,m){u.info(function(){return"TIMEOUT: "+m})}ir.prototype.info=function(){};function Ce(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return oo(y)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function Gs(){}G(Gs,lo),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Jr=new Gs;function Gn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var sr={},ts={};function kn(u,m,y){u.L=1,u.v=is(ie(m)),u.m=y,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(y.i,"t",T),u.C=0,y=u.j.J,u.h=new co,u.g=ou(u.j,y?m:null,!u.m),0<u.O&&(u.M=new fh(V(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Wi[0]=U.toString()),U=Wi);for(var H=0;H<U.length;H++){var J=mi(y,U[H],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),er(),Ql(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=bn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Si?er(3):er(2)),Qs(this);var y=this.g.Z();this.X=y;e:if(ar(this)){var T=Jl(this.g);u="";var U=T.length,H=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),un(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,Kl(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ee=this.g;if((Vt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Vt)){var kt=Vt;break e}}kt=null}if(y=kt)rr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,y);else{this.o=!1,this.s=3,le(12),rn(this),un(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<J.length;)if(ke=or(this,J),ke==ts){Te==4&&(this.s=4,le(14),y=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==sr){this.s=4,le(15),rr(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else rr(this.i,this.l,ke,null),cn(this,ke);if(ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||J.length!=0||this.h.h||(this.s=1,le(16),y=!1),this.o=this.o&&y,!y)rr(this.i,this.l,J,"[Invalid Chunked Response]"),rn(this),un(this);else if(0<J.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),cs(Ne),Ne.M=!0,le(11))}}else rr(this.i,this.l,J,null),cn(this,J);Te==4&&rn(this),this.o&&!this.J&&(Te==4?ru(this.j,this):(this.o=!1,Wt(this)))}else _h(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),rn(this),un(this)}}}catch{}finally{}};function ar(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function or(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ts:(y=Number(m.substring(y,T)),isNaN(y)?sr:(T+=1,T+y>m.length?ts:(m=m.slice(T,T+y),u.C=T+y,m)))}Gn.prototype.cancel=function(){this.J=!0,rn(this)};function Wt(u){u.S=Date.now()+u.I,ho(u,u.I)}function ho(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=nr(V(u.ba,u),m)}function Qs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fn(this.i,this.A),this.L!=2&&(er(),le(17)),rn(this),this.s=2,un(this)):ho(this,this.S-u)};function un(u){u.j.G==0||u.J||ru(u.j,u)}function rn(u){Qs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,He(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function cn(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||lr(y.h,u))){if(!u.K&&lr(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)na(y),ta(y);else break t;bo(y),le(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=nr(V(y.Za,y),6e3));if(1>=Yl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else bi(y,11)}else if((u.K||y.g==u)&&na(y),!lt(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let kt=U[m];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ne=kt[3];Ne!=null&&(y.la=Ne,y.j.info("VER="+y.la));const Te=kt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const Si=kt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ke=u.g;if(ke){const Wn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var H=T.h;H.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ur(H,H.h),H.h=null))}if(T.D){const wo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(T.ya=wo,zt(T.I,T.D,wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=au(T,T.J?T.ia:null,T.W),J.K){vn(T.h,J);var Vt=J,Ee=T.L;Ee&&(Vt.I=Ee),Vt.B&&(Qs(Vt),Wt(Vt)),T.g=J}else nu(T);0<y.i.length&&ea(y)}else kt[0]!="stop"&&kt[0]!="close"||bi(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?bi(y,7):To(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}er(4)}catch{}}var dh=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yl(u){return u.h?1:u.g?u.g.size:0}function lr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ur(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ze(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return W(u.i)}function Xl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function mh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function es(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=mh(u),T=Xl(u),U=T.length,H=0;H<U;H++)m.call(void 0,T[H],y&&y[H],u)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var H=u[y].substring(0,T);U=u[y].substring(T+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,cr(this,u.j),this.o=u.o,this.g=u.g,ns(this,u.s),this.l=u.l;var m=u.i,y=new Qn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ys(this,y),this.m=u.m}else u&&(m=String(u).match(go))?(this.h=!1,cr(this,m[1]||"",!0),this.o=hr(m[2]||""),this.g=hr(m[3]||"",!0),ns(this,m[4]),this.l=hr(m[5]||"",!0),Ys(this,m[6]||"",!0),this.m=hr(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,po,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,po,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(En(y,y.charAt(0)=="/"?yo:$l,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",En(y,yh)),u.join("")};function ie(u){return new _i(u)}function cr(u,m,y){u.j=y?hr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ns(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ys(u,m,y){m instanceof Qn?(u.i=m,_o(u.i,u.h)):(y||(m=En(m,ph)),u.i=new Qn(m,u.h))}function zt(u,m,y){u.i.set(m,y)}function is(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function hr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,gh),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,$l=/[#\?:]/g,yo=/[#\?]/g,ph=/[#\?@]/g,yh=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ks(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Qn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ti(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Xs(u,m){Tn(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return Tn(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let H=0;H<U.length;H++)y.push(m[T])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Ti(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,y){Xs(u,m),0<y.length&&(u.i=null,u.g.set(Ti(u,m),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const H=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=H;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _o(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Xs(this,T),Ei(this,U,y))},u)),u.j=m}function Zl(u,m){const y=new ir;if(g.Image){const T=new Image;T.onload=L(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=L(An,y,"TestLoadImage: error",!1,m,T),T.onabort=L(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=L(An,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function rs(u,m){const y=new ir,T=new AbortController,U=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ss(){this.g=new $e}function Kn(u,m,y){const T=y||"";try{es(u,function(U,H){let J=U;_(U)&&(J=oo(U)),m.push(T+H+"="+encodeURIComponent(J))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function fr(u){this.l=u.Ub||null,this.j=u.eb||!1}G(fr,lo),fr.prototype.g=function(){return new Ai(this.l,this.j)},fr.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Ai,_e),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return At(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function De(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Eo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):zt(u,m,y))}function Ft(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ft,_e);var $s=/^https?$/i,as=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?ql(this.o):ql(Jr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Wl(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(as,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,J]of y)this.g.setRequestHeader(H,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Wl(this,H)}};function Wl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),$n(u)}function Zs(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},r.bb=function(){Ws(this)};function Ws(u){if(u.h&&typeof f<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Hl(u.Ea,0,u);else if(Ie(u,"readystatechange"),bn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=J===0){var U=String(u.D).match(go)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!$s.test(U?U.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var H=2<bn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Zs(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){os(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ie(u,"ready");try{y.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hn(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var y=O(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Js(u){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(u&&u.concurrentRequestLimit),this.Da=new ss,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Js.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){le(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=au(this,null,this.W),ea(this)};function To(u){if(tu(u),u.G==3){var m=u.U++,y=ie(u.I);if(zt(y,"SID",u.K),zt(y,"RID",m),zt(y,"TYPE","terminate"),us(u,y),m=new Gn(u,u.j,m),m.L=2,m.v=is(ie(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=ou(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}su(u)}function ta(u){u.g&&(cs(u),u.g.cancel(),u.g=null)}function tu(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ea(u){if(!mo(u.h)&&!u.s){u.s=!0;var m=u.Ga;gt||D(),ht||(gt(),ht=!0),qt.add(m,u),u.B=0}}function vh(u,m){return Yl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=nr(V(u.Ga,u,m),So(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Gn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=w(H),C(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=eu(this,U,m),y=ie(this.I),zt(y,"RID",u),zt(y,"CVER",22),this.D&&zt(y,"X-HTTP-Session-Id",this.D),us(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(Eo(H)))+"&"+m:this.m&&De(y,this.m,H)),ur(this.h,U),this.Ua&&zt(y,"TYPE","init"),this.P?(zt(y,"$req",m),zt(y,"SID","null"),U.T=!0,kn(U,y,null)):kn(U,y,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||mo(this.h)||Ao(this))};function Ao(u,m){var y;m?y=m.l:y=u.U++;const T=ie(u.I);zt(T,"SID",u.K),zt(T,"RID",y),zt(T,"AID",u.T),us(u,T),u.m&&u.o&&De(T,u.m,u.o),y=new Gn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=eu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ur(u.h,y),kn(y,T,m)}function us(u,m){u.H&&At(u.H,function(y,T){zt(m,T,y)}),u.l&&es({},function(y,T){zt(m,T,y)})}function eu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?V(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const J=["count="+y];H==-1?0<y?(H=U[0].g,J.push("ofs="+H)):H=0:J.push("ofs="+H);let Vt=!0;for(let Ee=0;Ee<y;Ee++){let kt=U[Ee].g;const Ne=U[Ee].map;if(kt-=H,0>kt)H=Math.max(0,U[Ee].g-100),Vt=!1;else try{Kn(Ne,J,"req"+kt+"_")}catch{T&&T(Ne)}}if(Vt){T=J.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function nu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;gt||D(),ht||(gt(),ht=!0),qt.add(m,u),u.v=0}}function bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=nr(V(u.Fa,u),So(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=nr(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ta(this),iu(this))};function cs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),us(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=is(ie(m)),y.m=null,y.P=!0,yi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),bo(this),le(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ru(u,m){var y=null;if(u.g==m){na(u),cs(u),u.g=null;var T=2}else if(lr(u.h,m))y=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=qs(),Ie(T,new Gl(T,y)),ea(u)}else nu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&vh(u,m)||T==2&&bo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function So(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var y=V(u.fb,u),T=u.Xa;const U=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||cr(T,"https"),is(T),U?Zl(T.toString(),y):rs(T.toString(),y)}else le(2);u.G=0,u.l&&u.l.sa(m),su(u),tu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function su(u){if(u.G=0,u.ka=[],u.l){const m=Ze(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ka,m),Y(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function au(u,m,y){var T=y instanceof _i?ie(y):new _i(y);if(T.g!="")m&&(T.g=m+"."+T.g),ns(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new _i(null);T&&cr(H,T),m&&(H.g=m),U&&ns(H,U),y&&(H.l=y),T=H}return y=u.D,m=u.ya,y&&m&&zt(T,y,m),zt(T,"VER",u.la),us(u,T),T}function ou(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new fr({eb:y})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new Js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}G(We,_e),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){To(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=oo(u),u=y);m.i.push(new dh(m.Ya++,u)),m.G==3&&ea(m)},We.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,We.aa.N.call(this)};function uu(u){Ji.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(uu,Ji);function cu(){Vn.call(this),this.status=1}G(cu,Vn);function Zn(u){this.g=u}G(Zn,lu),Zn.prototype.ua=function(){Ie(this.g,"a")},Zn.prototype.ta=function(u){Ie(this.g,new uu(u))},Zn.prototype.sa=function(u){Ie(this.g,new cu)},Zn.prototype.ra=function(){Ie(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,w0=function(){return new ia},S0=function(){return qs()},b0=_n,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,_c=ve,pi.COMPLETE="complete",A0=pi,Fl.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,fl=Fl,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,T0=Ft}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new nm("@firebase/firestore");function xa(){return ks.logLevel}function it(r,...t){if(ks.logLevel<=xt.DEBUG){const n=t.map(pm);ks.debug(`Firestore (${Ja}): ${r}`,...n)}}function Ki(r,...t){if(ks.logLevel<=xt.ERROR){const n=t.map(pm);ks.error(`Firestore (${Ja}): ${r}`,...n)}}function Ba(r,...t){if(ks.logLevel<=xt.WARN){const n=t.map(pm);ks.warn(`Firestore (${Ja}): ${r}`,...n)}}function pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r="Unexpected state"){const t=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+r;throw Ki(t),new Error(t)}function Gt(r,t){r||pt()}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Xi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class jR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new R0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Qe(t)}}class BR{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HR{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new BR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new k_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=FR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Pd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ct(s,l);{const c=I0(),f=GR(c.encode(U_(r,n)),c.encode(U_(t,n)));return f!==0?f:Ct(s,l)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function U_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function GR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Ha(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,L_=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*L_);return new we(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<P_)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-P_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new we(0,0))}static max(){return new vt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(),s===void 0?s=t.length-n:s>t.length-n&&pt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Ct(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Pd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class oe extends ri{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const QR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ri{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return QR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new ze([j_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(oe.fromString(t))}static fromName(t){return new dt(oe.fromString(t).popFirst(5))}static empty(){return new dt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function KR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new we(n+1,0):new we(n,s));return new qr(l,dt.empty(),t)}function YR(r){return new qr(r.readTime,r.key,wl)}class qr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(vt.min(),dt.empty(),wl)}static max(){return new qr(vt.max(),dt.empty(),wl)}}function XR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==$R)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(l=>l?K.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{f[_]=A,++g,g===c&&s(f)},A=>l(A))}})}static doWhile(t,n){return new K((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function WR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Yc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function Xc(r){return r==null}function xc(r){return r===0&&1/r==-1/0}function JR(r){return typeof r=="number"&&Number.isInteger(r)&&!xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="";function t1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=z_(t)),t=e1(r.get(n),t);return z_(t)}function e1(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case D0:n+="";break;default:n+=c}}return n}function z_(r){return r+D0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Xr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function N0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cc(this.root,t,this.comparator,!0)}}class cc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new je(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(t,n,s,l,c){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(t){return new H_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class H_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Re(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new x0("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const n1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=n1.exec(r);if(Gt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="server_timestamp",M0="__type__",V0="__previous_value__",k0="__local_write_time__";function _m(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[M0])===null||n===void 0?void 0:n.stringValue)===O0}function $c(r){const t=r.mapValue.fields[V0];return _m(t)?$c(t):t}function Rl(r){const t=Fr(r.mapValue.fields[k0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,n,s,l,c,f,g,p,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const Oc="(default)";class Il{constructor(t,n){this.projectId=t,this.database=n||Oc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__type__",r1="__max__",hc={mapValue:{}},P0="__vector__",Mc="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_m(r)?4:a1(r)?9007199254740991:s1(r)?10:11:pt()}function hi(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Fr(l.timestampValue),g=Fr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Gr(l.bytesValue).isEqual(Gr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ce(l.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(l.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ce(l.integerValue)===ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ce(l.doubleValue),g=ce(c.doubleValue);return f===g?xc(f)===xc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(B_(f)!==B_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!hi(f[p],g[p])))return!1;return!0}(r,t);default:return pt()}}function Cl(r,t){return(r.values||[]).find(n=>hi(n,t))!==void 0}function qa(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=ce(c.integerValue||c.doubleValue),p=ce(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return q_(r.timestampValue,t.timestampValue);case 4:return q_(Rl(r),Rl(t));case 5:return Pd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Gr(c),p=Gr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=Ct(g[_],p[_]);if(A!==0)return A}return Ct(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Ct(ce(c.latitude),ce(f.latitude));return g!==0?g:Ct(ce(c.longitude),ce(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return F_(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,A;const I=c.fields||{},V=f.fields||{},L=(g=I[Mc])===null||g===void 0?void 0:g.arrayValue,G=(p=V[Mc])===null||p===void 0?void 0:p.arrayValue,W=Ct(((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0,((A=G==null?void 0:G.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:F_(L,G)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===hc.mapValue&&f===hc.mapValue)return 0;if(c===hc.mapValue)return 1;if(f===hc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const V=Pd(p[I],A[I]);if(V!==0)return V;const L=qa(g[p[I]],_[A[I]]);if(L!==0)return L}return Ct(p.length,A.length)}(r.mapValue,t.mapValue);default:throw pt()}}function q_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Fr(r),s=Fr(t),l=Ct(n.seconds,s.seconds);return l!==0?l:Ct(n.nanos,s.nanos)}function F_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=qa(n[l],s[l]);if(c)return c}return Ct(n.length,s.length)}function Fa(r){return Ld(r)}function Ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ld(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Ld(n.fields[f])}`;return l+"}"}(r.mapValue):pt()}function vc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$c(r);return t?16+vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+vc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Xr(s.fields,(c,f)=>{l+=c.length+vc(f)}),l}(r.mapValue);default:throw pt()}}function jd(r){return!!r&&"integerValue"in r}function vm(r){return!!r&&"arrayValue"in r}function G_(r){return!!r&&"nullValue"in r}function Q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function s1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[U0])===null||n===void 0?void 0:n.stringValue)===P0}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Xr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=yl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function a1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===r1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ec(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=yl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Xr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new on(yl(this.value))}}function L0(r){const t=[];return Xr(r.fields,(n,s)=>{const l=new ze([n]);if(Ec(s)){const c=L0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,vt.min(),vt.min(),vt.min(),on.empty(),0)}static newFoundDocument(t,n,s,l){return new Ke(t,1,n,vt.min(),s,l,0)}static newNoDocument(t,n){return new Ke(t,2,n,vt.min(),vt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,vt.min(),vt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n){this.position=t,this.inclusive=n}}function K_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=qa(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Y_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n="asc"){this.field=t,this.dir=n}}function o1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{}class Se extends j0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new u1(t,n,s):n==="array-contains"?new f1(t,s):n==="in"?new d1(t,s):n==="not-in"?new m1(t,s):n==="array-contains-any"?new g1(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new c1(t,s):new h1(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qa(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends j0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new fi(t,n)}matches(t){return z0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z0(r){return r.op==="and"}function B0(r){return l1(r)&&z0(r)}function l1(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function zd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(B0(r))return r.filters.map(t=>zd(t)).join(",");{const t=r.filters.map(n=>zd(n)).join(",");return`${r.op}(${t})`}}function H0(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&hi(s.value,l.value)}(r,t):r instanceof fi?function(s,l){return l instanceof fi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&H0(f,l.filters[g]),!0):!1}(r,t):void pt()}function q0(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(r):"Filter"}class u1 extends Se{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class c1 extends Se{constructor(t,n){super(t,"in",n),this.keys=F0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class h1 extends Se{constructor(t,n){super(t,"not-in",n),this.keys=F0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function F0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class f1 extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return vm(n)&&Cl(n.arrayValue,this.value)}}class d1 extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class m1 extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Cl(this.value.arrayValue,n)}}class g1 extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.le=null}}function X_(r,t=null,n=[],s=[],l=null,c=null,f=null){return new p1(r,t,n,s,l,c,f)}function Em(r){const t=Tt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>zd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Xc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.le=n}return t.le}function Tm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!o1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!H0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Y_(r.startAt,t.startAt)&&Y_(r.endAt,t.endAt)}function Bd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function y1(r,t,n,s,l,c,f,g){return new Zc(r,t,n,s,l,c,f,g)}function Wc(r){return new Zc(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _1(r){return r.collectionGroup!==null}function _l(r){const t=Tt(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Re(ze.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new kc(c,s))}),n.has(ze.keyField().canonicalString())||t.he.push(new kc(ze.keyField(),s))}return t.he}function ai(r){const t=Tt(r);return t.Pe||(t.Pe=v1(t,_l(r))),t.Pe}function v1(r,t){if(r.limitType==="F")return X_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new kc(l.field,c)});const n=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Hd(r,t,n){return new Zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jc(r,t){return Tm(ai(r),ai(t))&&r.limitType===t.limitType}function G0(r){return`${Em(ai(r))}|lt:${r.limitType}`}function Oa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>q0(l)).join(", ")}]`),Xc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of _l(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=K_(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,_l(s),l)||s.endAt&&!function(f,g,p){const _=K_(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,_l(s),l))}(r,t)}function E1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q0(r){return(t,n)=>{let s=!1;for(const l of _l(r)){const c=T1(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function T1(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?qa(p,_):pt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new ee(dt.comparator);function Yi(){return A1}const K0=new ee(dt.comparator);function dl(...r){let t=K0;for(const n of r)t=t.insert(n.key,n);return t}function Y0(r){let t=K0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function xs(){return vl()}function X0(){return vl()}function vl(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const b1=new ee(dt.comparator),S1=new Re(dt.comparator);function Ot(...r){let t=S1;for(const n of r)t=t.add(n);return t}const w1=new Re(Ct);function R1(){return w1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(t)?"-0":t}}function $0(r){return{integerValue:""+r}}function I1(r,t){return JR(t)?$0(t):Am(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function C1(r,t,n){return r instanceof Uc?function(l,c){const f={fields:{[M0]:{stringValue:O0},[k0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_m(c)&&(c=$c(c)),c&&(f.fields[V0]=c),{mapValue:f}}(n,t):r instanceof Ga?W0(r,t):r instanceof Qa?J0(r,t):function(l,c){const f=Z0(l,c),g=Z_(f)+Z_(l.Ie);return jd(f)&&jd(l.Ie)?$0(g):Am(l.serializer,g)}(r,t)}function D1(r,t,n){return r instanceof Ga?W0(r,t):r instanceof Qa?J0(r,t):n}function Z0(r,t){return r instanceof Pc?function(s){return jd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Uc extends eh{}class Ga extends eh{constructor(t){super(),this.elements=t}}function W0(r,t){const n=tE(t);for(const s of r.elements)n.some(l=>hi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Qa extends eh{constructor(t){super(),this.elements=t}}function J0(r,t){let n=tE(t);for(const s of r.elements)n=n.filter(l=>!hi(l,s));return{arrayValue:{values:n}}}class Pc extends eh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Z_(r){return ce(r.integerValue||r.doubleValue)}function tE(r){return vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n){this.field=t,this.transform=n}}function N1(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Ga&&l instanceof Ga||s instanceof Qa&&l instanceof Qa?Ha(s.elements,l.elements,hi):s instanceof Pc&&l instanceof Pc?hi(s.Ie,l.Ie):s instanceof Uc&&l instanceof Uc}(r.transform,t.transform)}class x1{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function nE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new rE(r.key,oi.none()):new kl(r.key,r.data,oi.none());{const n=r.data,s=on.empty();let l=new Re(ze.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new $r(r.key,s,new pn(l.toArray()),oi.none())}}function O1(r,t,n){r instanceof kl?function(l,c,f){const g=l.value.clone(),p=J_(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof $r?function(l,c,f){if(!Tc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=J_(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(iE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function El(r,t,n,s){return r instanceof kl?function(c,f,g,p){if(!Tc(c.precondition,f))return g;const _=c.value.clone(),A=tv(c.fieldTransforms,p,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof $r?function(c,f,g,p){if(!Tc(c.precondition,f))return g;const _=tv(c.fieldTransforms,p,f),A=f.data;return A.setAll(iE(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return Tc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function M1(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=Z0(s.transform,l||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function W_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ha(s,l,(c,f)=>N1(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kl extends nh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $r extends nh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function J_(r,t,n){const s=new Map;Gt(r.length===n.length);for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,D1(f,g,n[l]))}return s}function tv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,C1(c,f,t))}return s}class rE extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V1 extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&O1(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=X0();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=nE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,(n,s)=>W_(n,s))&&Ha(this.baseMutations,t.baseMutations,(n,s)=>W_(n,s))}}class bm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length);let l=function(){return b1}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new bm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Pt;function L1(r){switch(r){case $.OK:return pt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt()}}function sE(r){if(r===void 0)return Ki("GRPC error has no .code"),$.UNKNOWN;switch(r){case pe.OK:return $.OK;case pe.CANCELLED:return $.CANCELLED;case pe.UNKNOWN:return $.UNKNOWN;case pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pe.INTERNAL:return $.INTERNAL;case pe.UNAVAILABLE:return $.UNAVAILABLE;case pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pe.NOT_FOUND:return $.NOT_FOUND;case pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pe.ABORTED:return $.ABORTED;case pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pe.DATA_LOSS:return $.DATA_LOSS;default:return pt()}}(Pt=pe||(pe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Br([4294967295,4294967295],0);function ev(r){const t=I0().encode(r),n=new E0;return n.update(t),new Uint8Array(n.digest())}function nv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Br([n,s],0),new Br([l,c],0)]}class Sm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Br.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(Br.fromNumber(s)));return l.compare(j1)===1&&(l=new Br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=ev(t),[s,l]=nv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Sm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.Ee===0)return;const n=ev(t),[s,l]=nv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ih(vt.min(),l,new ee(Ct),Yi(),Ot())}}class Ul{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ul(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class aE{constructor(t,n){this.targetId=t,this.ge=n}}class oE{constructor(t,n,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class iv{constructor(){this.pe=0,this.ye=rv(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),s=Ot();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:pt()}}),new Ul(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=rv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class z1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Yi(),this.$e=fc(),this.Ue=fc(),this.Ke=new ee(Ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Bd(c))if(s===0){const f=new dt(c.path);this.ze(n,f,Ke.newNoDocument(f,vt.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const g=this.tt(t),p=g?this.nt(g,t,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Gr(s).toUint8Array()}catch(p){if(p instanceof x0)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Sm(f,l,c)}catch(p){return Ba(p instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const g=this.Xe(f);if(g){if(c.current&&Bd(g.target)){const p=new dt(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Ot();this.Ue.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const l=new ih(t,n,this.Ke,this.Qe,s);return this.Qe=Yi(),this.$e=fc(),this.Ue=fc(),this.Ke=new ee(Ct),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new iv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Re(Ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Re(Ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new iv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function fc(){return new ee(dt.comparator)}function rv(){return new ee(dt.comparator)}const B1={asc:"ASCENDING",desc:"DESCENDING"},H1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q1={and:"AND",or:"OR"};class F1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qd(r,t){return r.useProto3Json||Xc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function G1(r,t){return Lc(r,t.toTimestamp())}function li(r){return Gt(!!r),vt.fromTimestamp(function(n){const s=Fr(n);return new we(s.seconds,s.nanos)}(r))}function wm(r,t){return Fd(r,t).canonicalString()}function Fd(r,t){const n=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function uE(r){const t=oe.fromString(r);return Gt(mE(t)),t}function Gd(r,t){return wm(r.databaseId,t.path)}function bd(r,t){const n=uE(t);if(n.get(1)!==r.databaseId.projectId)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(hE(n))}function cE(r,t){return wm(r.databaseId,t)}function Q1(r){const t=uE(r);return t.length===4?oe.emptyPath():hE(t)}function Qd(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hE(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function sv(r,t,n){return{name:Gd(r,t),fields:n.value.mapValue.fields}}function K1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const A=_.code===void 0?$.UNKNOWN:sE(_.code);return new ft(A,_.message||"")}(f);n=new oE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=bd(r,s.document.name),c=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):vt.min(),g=new on({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,f,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Ac(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=bd(r,s.document),c=s.readTime?li(s.readTime):vt.min(),f=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Ac([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=bd(r,s.document),c=s.removedTargetIds||[];n=new Ac([],c,l,null)}else{if(!("filter"in t))return pt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new P1(l,c),g=s.targetId;n=new aE(g,f)}}return n}function Y1(r,t){let n;if(t instanceof kl)n={update:sv(r,t.key,t.value)};else if(t instanceof rE)n={delete:Gd(r,t.key)};else if(t instanceof $r)n={update:sv(r,t.key,t.data),updateMask:iI(t.fieldMask)};else{if(!(t instanceof V1))return pt();n={verify:Gd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Uc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ga)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Qa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Pc)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw pt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:G1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt()}(r,t.precondition)),n}function X1(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(l,c){let f=l.updateTime?li(l.updateTime):li(c);return f.isEqual(vt.min())&&(f=li(c)),new x1(f,l.transformResults||[])}(n,t))):[]}function $1(r,t){return{documents:[cE(r,t.path)]}}function Z1(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cE(r,l);const c=function(_){if(_.length!==0)return dE(fi.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(V){return{field:Ma(V.field),direction:tI(V.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=qd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ht:n,parent:l}}function W1(r){let t=Q1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const V=fE(I);return V instanceof fi&&B0(V)?V.getFilters():[V]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(V=>function(G){return new kc(Va(G.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(V))}(n.orderBy));let g=null;n.limit&&(g=function(I){let V;return V=typeof I=="object"?I.value:I,Xc(V)?null:V}(n.limit));let p=null;n.startAt&&(p=function(I){const V=!!I.before,L=I.values||[];return new Vc(L,V)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const V=!I.before,L=I.values||[];return new Vc(L,V)}(n.endAt)),y1(t,l,f,c,g,"F",p,_)}function J1(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Va(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Va(n.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Va(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Va(n.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(r):r.fieldFilter!==void 0?function(n){return Se.create(Va(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>fE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt()}}(n.compositeFilter.op))}(r):pt()}function tI(r){return B1[r]}function eI(r){return H1[r]}function nI(r){return q1[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Va(r){return ze.fromServerFormat(r.fieldPath)}function dE(r){return r instanceof Se?function(n){if(n.op==="=="){if(Q_(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(G_(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q_(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(G_(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:eI(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(l=>dE(l));return s.length===1?s[0]:{compositeFilter:{op:nI(n.op),filters:s}}}(r):pt()}function iI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function mE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,l,c=vt.min(),f=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.Tt=t}}function sI(r){const t=W1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.Tn=new oI}addToCollectionParentIndex(t,n){return this.Tn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(qr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(qr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class oI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Re(oe.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(gE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ka(0)}static Kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",lI=1048576;function lv([r,t],[n,s]){const l=Ct(r,n);return l===0?Ct(t,s):l}class uI{constructor(t){this.Hn=t,this.buffer=new Re(lv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(ov,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?it(ov,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.er(3e5)})}}class hI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(Yc.ae);const s=new uI(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(av)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,c,f,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,f=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),xa()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function fI(r,t){return new hI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&El(s.mutation,l,pn.empty(),we.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const l=xs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=dl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Yi();const f=vl(),g=function(){return vl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof $r)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),El(A.mutation,_,A.mutation.getFieldMask(),we.now())):f.set(_.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var I;return g.set(_,new mI(A,(I=f.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=vl();let l=new ee((f,g)=>f-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||pn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const I=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,I=X0();A.forEach(V=>{if(!c.has(V)){const L=nE(n.get(V),s.get(V));L!==null&&I.set(V,L),c=c.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,I))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):K.resolve(xs());let g=wl,p=c;return f.next(_=>K.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{p=p.insert(A,V)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Ot())).next(A=>({batchId:g,changes:Y0(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=dl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=dl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const _=function(I,V){return new Zc(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((I,V)=>{f=f.insert(I,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,Ke.newInvalidDocument(A)))});let g=dl();return f.forEach((p,_)=>{const A=c.get(p);A!==void 0&&El(A.mutation,_,pn.empty(),we.now()),th(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:li(l.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.overlays=new ee(dt.comparator),this.Rr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=xs();return K.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.Et(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const l=xs(),c=n.length+1,f=new dt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ee((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=xs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=xs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return K.resolve(g)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new U1(n,s));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Vr=new Re(Ve.mr),this.gr=new Re(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ve(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new dt(new oe([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new dt(new oe([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Ot();return this.gr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return dt.comparator(t.key,n.key)||Ct(t.Cr,n.Cr)}static pr(t,n){return Ct(t.Cr,n.Cr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Ve.mr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new k1(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Mr=this.Mr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?ym:this.Fr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],f=>{const g=this.Or(f.Cr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Ct);return n.forEach(l=>{const c=new Ve(l,0),f=new Ve(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new Ve(new dt(c),0);let g=new Re(Ct);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},f),K.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Mr.firstAfterOrEqual(s);return K.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.kr=t,this.docs=function(){return new ee(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=Yi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Yi();const f=n.path,g=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||XR(YR(A),s)<=0||(l.has(A.key)||th(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,l){pt()}qr(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new TI(this)}getSize(t){return K.resolve(this.size)}}class TI extends dI{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.persistence=t,this.Qr=new Ls(n=>Em(n),Tm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Rm,this.targetCount=0,this.Kr=Ka.Un()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),K.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ka(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.zn(n),K.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Yc(0),this.zr=!1,this.zr=!0,this.jr=new _I,this.referenceDelegate=t(this),this.Hr=new AI(this),this.indexManager=new aI,this.remoteDocumentCache=function(l){return new EI(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rI(n),this.Yr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new vI(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new bI(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class bI extends ZR{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.ti=new Rm,this.ni=null}static ri(t){return new Im(t)}get ii(){if(this.ni)return this.ni;throw pt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const l=dt.fromPath(s);return this.si(t,l).next(c=>{c||n.removeEntry(l,vt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class jc{constructor(t,n){this.persistence=t,this.oi=new Ls(s=>t1(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=fI(this,n)}static ri(t,n){return new jc(t,n)}Zr(){}Xr(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return K.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?K.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,n).next(g=>{g||(s++,c.removeEntry(f,vt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vc(t.data.value)),n}ar(t,n,s){return K.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Ot(),l=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vb()?8:WR(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new SI;return this._s(t,n,f).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,f,g.size)})}).next(()=>c.result)}us(t,n,s,l){return s.documentReadCount<this.es?(xa()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(xa()<=xt.DEBUG&&it("QueryEngine","Query:",Oa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(xa()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):K.resolve())}rs(t,n){if($_(n))return K.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Hd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ot(...c);return this.ns.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.cs(n,g);return this.ls(n,_,f,p.readTime)?this.rs(t,Hd(n,null,"F")):this.hs(t,_,n,p)}))})))}ss(t,n,s,l){return $_(n)||l.isEqual(vt.min())?K.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,l)?K.resolve(null):(xa()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Oa(n)),this.hs(t,f,n,KR(l,wl)).next(g=>g))})}cs(t,n){let s=new Re(Q0(t));return n.forEach((l,c)=>{th(t,c)&&(s=s.add(c))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,s){return xa()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.ns.getDocumentsMatchingQuery(t,n,qr.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",RI=3e8;class II{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ee(Ct),this.Is=new Ls(c=>Em(c),Tm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function CI(r,t,n,s){return new II(r,t,n,s)}async function yE(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Ot();for(const _ of l){f.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:g}))})})}function DI(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const I=_.batch,V=I.keys();let L=K.resolve();return V.forEach(G=>{L=L.next(()=>A.getEntry(p,G)).next(W=>{const Y=_.docVersions.get(G);Gt(Y!==null),W.version.compareTo(Y)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function _E(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function NI(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((A,I)=>{const V=l.get(I);if(!V)return;g.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,I)));let L=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?L=L.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(A.resumeToken,s)),l=l.insert(I,L),function(W,Y,ct){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=RI?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(V,L,A)&&g.push(n.Hr.updateTargetData(c,L))});let p=Yi(),_=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(xI(c,f,t.documentUpdates).next(A=>{p=A.Vs,_=A.fs})),!s.isEqual(vt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ts=l,c))}function xI(r,t,n){let s=Ot(),l=Ot();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Yi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function OI(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=ym),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function MI(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Pr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Kd(r,t,n){const s=Tt(r),l=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!eo(f))throw f;it(Dm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function uv(r,t,n){const s=Tt(r);let l=vt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,A){const I=Tt(p),V=I.Is.get(A);return V!==void 0?K.resolve(I.Ts.get(V)):I.Hr.getTargetData(_,A)}(s,f,ai(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?l:vt.min(),n?c:Ot())).next(g=>(VI(s,E1(t),g),{documents:g,gs:c})))}function VI(r,t,n){let s=r.Es.get(t)||vt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class cv{constructor(){this.activeTargetIds=R1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kI{constructor(){this.ho=new cv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new cv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(hv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Yd(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Oc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,n,s,l,c){const f=Yd(),g=this.bo(t,n.toUriEncodedString());it(Sd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(_=>(it(Sd,`Received RPC '${t}' ${f}: `,_),_),_=>{throw Ba(Sd,`RPC '${t}' ${f} failed with error: `,_,"url: ",g,"request:",s),_})}Co(t,n,s,l,c,f){return this.So(t,n,s,l,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,n){const s=PI[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class zI extends LI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const c=Yd();return new Promise((f,g)=>{const p=new T0;p.setWithCredentials(!0),p.listenOnce(A0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _c.NO_ERROR:const A=p.getResponseJson();it(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),f(A);break;case _c.TIMEOUT:it(Ge,`RPC '${t}' ${c} timed out`),g(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const I=p.getStatus();if(it(Ge,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V==null?void 0:V.error;if(L&&L.status&&L.message){const G=function(Y){const ct=Y.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN}(L.status);g(new ft(G,L.message))}else g(new ft($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ft($.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{it(Ge,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(l);it(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",_,s,15)})}Wo(t,n,s){const l=Yd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=w0(),g=S0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=f.createWebChannel(A,p);let V=!1,L=!1;const G=new jI({Fo:Y=>{L?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(V||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),I.open(),V=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,Y),I.send(Y))},Mo:()=>I.close()}),W=(Y,ct,lt)=>{Y.listen(ct,st=>{try{lt(st)}catch(bt){setTimeout(()=>{throw bt},0)}})};return W(I,fl.EventType.OPEN,()=>{L||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),G.Qo())}),W(I,fl.EventType.CLOSE,()=>{L||(L=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),G.Uo())}),W(I,fl.EventType.ERROR,Y=>{L||(L=!0,Ba(Ge,`RPC '${t}' stream ${l} transport errored:`,Y),G.Uo(new ft($.UNAVAILABLE,"The operation could not be completed")))}),W(I,fl.EventType.MESSAGE,Y=>{var ct;if(!L){const lt=Y.data[0];Gt(!!lt);const st=lt,bt=(st==null?void 0:st.error)||((ct=st[0])===null||ct===void 0?void 0:ct.error);if(bt){it(Ge,`RPC '${t}' stream ${l} received error:`,bt);const yt=bt.status;let At=function(b){const C=pe[b];if(C!==void 0)return sE(C)}(yt),M=bt.message;At===void 0&&(At=$.INTERNAL,M="Unknown error status: "+yt+" with message "+bt.message),L=!0,G.Uo(new ft(At,M)),I.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,lt),G.Ko(lt)}}),W(g,b0.STAT_EVENT,Y=>{Y.stat===Ud.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===Ud.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{G.$o()},0),G}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new F1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class EE{constructor(t,n,s,l,c,f,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vE(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new ft($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(dv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(it(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BI extends EE{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=K1(this.serializer,t),s=function(c){if(!("targetChange"in c))return vt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?li(f.readTime):vt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Qd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Bd(p)?{documents:$1(c,p)}:{query:Z1(c,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=lE(c,f.resumeToken);const _=qd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(vt.min())>0){g.readTime=Lc(c,f.snapshotVersion.toTimestamp());const _=qd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=J1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Qd(this.serializer),n.removeTarget=t,this.I_(n)}}class HI extends EE{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=X1(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Qd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Y1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class FI extends qI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Fd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft($.UNKNOWN,c.toString())})}Co(t,n,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(t,Fd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft($.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(n),this.N_=!1):it("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class QI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{js(this)&&(it(Us,"Restarting streams for network reachability change."),await async function(p){const _=Tt(p);_.W_.add(4),await Pl(_),_.j_.set("Unknown"),_.W_.delete(4),await sh(_)}(this))})}),this.j_=new GI(s,l)}}async function sh(r){if(js(r))for(const t of r.G_)await t(!0)}async function Pl(r){for(const t of r.G_)await t(!1)}function TE(r,t){const n=Tt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Mm(n)?Om(n):no(n).c_()&&xm(n,t))}function Nm(r,t){const n=Tt(r),s=no(n);n.K_.delete(t),s.c_()&&AE(n,t),n.K_.size===0&&(s.c_()?s.P_():js(n)&&n.j_.set("Unknown"))}function xm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}no(r).y_(t)}function AE(r,t){r.H_.Ne(t),no(r).w_(t)}function Om(r){r.H_=new z1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),no(r).start(),r.j_.B_()}function Mm(r){return js(r)&&!no(r).u_()&&r.K_.size>0}function js(r){return Tt(r).W_.size===0}function bE(r){r.H_=void 0}async function KI(r){r.j_.set("Online")}async function YI(r){r.K_.forEach((t,n)=>{xm(r,t)})}async function XI(r,t){bE(r),Mm(r)?(r.j_.q_(t),Om(r)):r.j_.set("Unknown")}async function $I(r,t,n){if(r.j_.set("Online"),t instanceof oE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.K_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){it(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zc(r,s)}else if(t instanceof Ac?r.H_.We(t):t instanceof aE?r.H_.Ze(t):r.H_.je(t),!n.isEqual(vt.min()))try{const s=await _E(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.H_.ot(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(_);A&&c.K_.set(_,A.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),AE(c,p);const I=new Pr(A.target,p,_,A.sequenceNumber);xm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Us,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,t,n){if(!eo(t))throw t;r.W_.add(1),await Pl(r),r.j_.set("Offline"),n||(n=()=>_E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Us,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await sh(r)})}function SE(r,t){return t().catch(n=>zc(r,n,t))}async function ah(r){const t=Tt(r),n=Kr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:ym;for(;ZI(t);)try{const l=await OI(t.localStore,s);if(l===null){t.U_.length===0&&n.P_();break}s=l.batchId,WI(t,l)}catch(l){await zc(t,l)}wE(t)&&RE(t)}function ZI(r){return js(r)&&r.U_.length<10}function WI(r,t){r.U_.push(t);const n=Kr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function wE(r){return js(r)&&!Kr(r).u_()&&r.U_.length>0}function RE(r){Kr(r).start()}async function JI(r){Kr(r).C_()}async function tC(r){const t=Kr(r);for(const n of r.U_)t.b_(n.mutations)}async function eC(r,t,n){const s=r.U_.shift(),l=bm.from(s,t,n);await SE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ah(r)}async function nC(r,t){t&&Kr(r).S_&&await async function(s,l){if(function(f){return L1(f)&&f!==$.ABORTED}(l.code)){const c=s.U_.shift();Kr(s).h_(),await SE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ah(s)}}(r,t),wE(r)&&RE(r)}async function mv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),it(Us,"RemoteStore received new credentials");const s=js(n);n.W_.add(3),await Pl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await sh(n)}async function iC(r,t){const n=Tt(r);t?(n.W_.delete(2),await sh(n)):t||(n.W_.add(2),await Pl(n),n.j_.set("Unknown"))}function no(r){return r.J_||(r.J_=function(n,s,l){const c=Tt(n);return c.M_(),new BI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:KI.bind(null,r),No:YI.bind(null,r),Lo:XI.bind(null,r),p_:$I.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Mm(r)?Om(r):r.j_.set("Unknown")):(await r.J_.stop(),bE(r))})),r.J_}function Kr(r){return r.Y_||(r.Y_=function(n,s,l){const c=Tt(n);return c.M_(),new HI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JI.bind(null,r),Lo:nC.bind(null,r),D_:tC.bind(null,r),v_:eC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await ah(r)):(await r.Y_.stop(),r.U_.length>0&&(it(Us,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Vm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),eo(r))return new ft($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=dl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new La;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Z_=new ee(dt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):pt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ya{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ya(t,n,La.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class sC{constructor(){this.queries=pv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Tt(n),c=l.queries;l.queries=pv(),c.forEach((f,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ft($.ABORTED,"Firestore shutting down"))}}function pv(){return new Ls(r=>G0(r),Jc)}async function IE(r,t){const n=Tt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new rC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=km(f,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&Um(n)}async function CE(r,t){const n=Tt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aC(r,t){const n=Tt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.ta)g.oa(l)&&(s=!0);f.ea=l}}s&&Um(n)}function oC(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(n);s.queries.delete(t)}function Um(r){r.ia.forEach(t=>{t.next()})}var Xd,yv;(yv=Xd||(Xd={}))._a="default",yv.Cache="cache";class DE{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class lC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=Q0(t),this.wa=new La(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new gv,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const V=l.get(A),L=th(this.query,I)?I:null,G=!!V&&this.mutatedKeys.has(V.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Y=!1;V&&L?V.data.isEqual(L.data)?G!==W&&(s.track({type:3,doc:L}),Y=!0):this.va(V,L)||(s.track({type:2,doc:L}),Y=!0,(p&&this.ya(L,p)>0||_&&this.ya(L,_)<0)&&(g=!0)):!V&&L?(s.track({type:0,doc:L}),Y=!0):V&&!L&&(s.track({type:1,doc:V}),Y=!0,(p||_)&&(g=!0)),Y&&(L?(f=f.add(L),c=W?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,I)=>function(L,G){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return W(L)-W(G)}(A.type,I.type)||this.ya(A.doc,I.doc)),this.Ca(s),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new Ya(this.query,t.wa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new xE(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new NE(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ya.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pm="SyncEngine";class uC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class cC{constructor(t){this.key=t,this.Ba=!1}}class hC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ls(g=>G0(g),Jc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(dt.comparator),this.Ua=new Map,this.Ka=new Rm,this.Wa={},this.Ga=new Map,this.za=Ka.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fC(r,t,n=!0){const s=PE(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await OE(s,t,n,!0),l}async function dC(r,t){const n=PE(r);await OE(n,t,!0,!1)}async function OE(r,t,n,s){const l=await MI(r.localStore,ai(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await mC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&TE(r.remoteStore,l),g}async function mC(r,t,n,s,l){r.Ha=(I,V,L)=>async function(W,Y,ct,lt){let st=Y.view.ba(ct);st.ls&&(st=await uv(W.localStore,Y.query,!1).then(({documents:M})=>Y.view.ba(M,st)));const bt=lt&&lt.targetChanges.get(Y.targetId),yt=lt&&lt.targetMismatches.get(Y.targetId)!=null,At=Y.view.applyChanges(st,W.isPrimaryClient,bt,yt);return vv(W,Y.targetId,At.Ma),At.snapshot}(r,I,V,L);const c=await uv(r.localStore,t,!0),f=new lC(t,c.gs),g=f.ba(c.documents),p=Ul.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);vv(r,n,_.Ma);const A=new uC(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),_.snapshot}async function gC(r,t,n){const s=Tt(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(f=>!Jc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Kd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Nm(s.remoteStore,l.targetId),$d(s,l.targetId)}).catch(to)):($d(s,l.targetId),await Kd(s.localStore,l.targetId,!0))}async function pC(r,t){const n=Tt(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(n.remoteStore,s.targetId))}async function yC(r,t,n){const s=SC(r);try{const l=await function(f,g){const p=Tt(f),_=we.now(),A=g.reduce((L,G)=>L.add(G.key),Ot());let I,V;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=Yi(),W=Ot();return p.ds.getEntries(L,A).next(Y=>{G=Y,G.forEach((ct,lt)=>{lt.isValidDocument()||(W=W.add(ct))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,G)).next(Y=>{I=Y;const ct=[];for(const lt of g){const st=M1(lt,I.get(lt.key).overlayedDocument);st!=null&&ct.push(new $r(lt.key,st,L0(st.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,ct,g)}).next(Y=>{V=Y;const ct=Y.applyToLocalDocumentSet(I,W);return p.documentOverlayCache.saveOverlays(L,Y.batchId,ct)})}).then(()=>({batchId:V.batchId,changes:Y0(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new ee(Ct)),_=_.insert(g,p),f.Wa[f.currentUser.toKey()]=_}(s,l.batchId,n),await Ll(s,l.changes),await ah(s.remoteStore)}catch(l){const c=km(l,"Failed to persist write");n.reject(c)}}async function ME(r,t){const n=Tt(r);try{const s=await NI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Ua.get(c);f&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Gt(f.Ba):l.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await Ll(n,s,t)}catch(s){await to(s)}}function _v(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((c,f)=>{const g=f.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Tt(f);p.onlineState=g;let _=!1;p.queries.forEach((A,I)=>{for(const V of I.ta)V.sa(g)&&(_=!0)}),_&&Um(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _C(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ua.get(t),c=l&&l.key;if(c){let f=new ee(dt.comparator);f=f.insert(c,Ke.newNoDocument(c,vt.min()));const g=Ot().add(c),p=new ih(vt.min(),new Map,new ee(Ct),f,g);await ME(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),Lm(s)}else await Kd(s.localStore,t,!1).then(()=>$d(s,t,n)).catch(to)}async function vC(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await DI(n.localStore,t);kE(n,s,null),VE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ll(n,l)}catch(l){await to(l)}}async function EC(r,t,n){const s=Tt(r);try{const l=await function(f,g){const p=Tt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(Gt(I!==null),A=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);kE(s,t,n),VE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ll(s,l)}catch(l){await to(l)}}function VE(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function kE(r,t,n){const s=Tt(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function $d(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||UE(r,s)})}function UE(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Nm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Lm(r))}function vv(r,t,n){for(const s of n)s instanceof NE?(r.Ka.addReference(s.key,t),TC(r,s)):s instanceof xE?(it(Pm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||UE(r,s.key)):pt()}function TC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(it(Pm,"New document in limbo: "+n),r.Qa.add(s),Lm(r))}function Lm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new dt(oe.fromString(t)),s=r.za.next();r.Ua.set(s,new cC(n)),r.$a=r.$a.insert(n,s),TE(r.remoteStore,new Pr(ai(Wc(n.path)),s,"TargetPurposeLimboResolution",Yc.ae))}}async function Ll(r,t,n){const s=Tt(r),l=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{f.push(s.Ha(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Cm.Yi(p.targetId,_);c.push(I)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,_){const A=Tt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(_,V=>K.forEach(V.Hi,L=>A.persistence.referenceDelegate.addReference(I,V.targetId,L)).next(()=>K.forEach(V.Ji,L=>A.persistence.referenceDelegate.removeReference(I,V.targetId,L)))))}catch(I){if(!eo(I))throw I;it(Dm,"Failed to update sequence numbers: "+I)}for(const I of _){const V=I.targetId;if(!I.fromCache){const L=A.Ts.get(V),G=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(G);A.Ts=A.Ts.insert(V,W)}}}(s.localStore,c))}async function AC(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){it(Pm,"User change. New user:",t.toKey());const s=await yE(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ft($.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ll(n,s.Rs)}}function bC(r,t){const n=Tt(r),s=n.Ua.get(t);if(s&&s.Ba)return Ot().add(s.key);{let l=Ot();const c=n.qa.get(t);if(!c)return l;for(const f of c){const g=n.ka.get(f);l=l.unionWith(g.view.Sa)}return l}}function PE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_C.bind(null,t),t.La.p_=aC.bind(null,t.eventManager),t.La.Ja=oC.bind(null,t.eventManager),t}function SC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return CI(this.persistence,new wI,t.initialUser,this.serializer)}Xa(t){return new pE(Im.ri,this.serializer)}Za(t){return new kI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class wC extends Bc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof jc);const s=this.persistence.referenceDelegate.garbageCollector;return new cI(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new pE(s=>jc.ri(s,n),this.serializer)}}class Zd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await iC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sC}()}createDatastore(t){const n=rh(t.databaseInfo.databaseId),s=function(c){return new zI(c)}(t.databaseInfo);return function(c,f,g,p){return new FI(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new QI(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>_v(this.syncEngine,n,0),function(){return fv.D()?new fv:new UI}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,A){const I=new hC(l,c,f,g,p,_);return A&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Tt(l);it(Us,"RemoteStore shutting down."),c.W_.add(5),await Pl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class RC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=km(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Rd(r,t){r.asyncQueue.verifyOperationInProgress(),it(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await yE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Ev(r,t){r.asyncQueue.verifyOperationInProgress();const n=await IC(r);it(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>mv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>mv(t.remoteStore,l)),r._onlineComponents=t}async function IC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Yr,"Using user provided OfflineComponentProvider");try{await Rd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Rd(r,new Bc)}}else it(Yr,"Using default OfflineComponentProvider"),await Rd(r,new wC(void 0));return r._offlineComponents}async function jE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Yr,"Using user provided OnlineComponentProvider"),await Ev(r,r._uninitializedComponentsProvider._online)):(it(Yr,"Using default OnlineComponentProvider"),await Ev(r,new Zd))),r._onlineComponents}function CC(r){return jE(r).then(t=>t.syncEngine)}async function Wd(r){const t=await jE(r),n=t.eventManager;return n.onListen=fC.bind(null,t.syncEngine),n.onUnlisten=gC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pC.bind(null,t.syncEngine),n}function DC(r,t,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const A=new LE({next:V=>{A.su(),f.enqueueAndForget(()=>CE(c,I));const L=V.docs.has(g);!L&&V.fromCache?_.reject(new ft($.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&V.fromCache&&p&&p.source==="server"?_.reject(new ft($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),I=new DE(Wc(g.path),A,{includeMetadataChanges:!0,Ta:!0});return IE(c,I)}(await Wd(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r,t,n){if(!n)throw new ft($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xC(r,t,n,s){if(t===!0&&s===!0)throw new ft($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Av(r){if(!dt.isDocumentKey(r))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt()}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(r);throw new ft($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",bv=!0;class Sv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=bv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lI)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zm{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new LR;switch(s.type){case"firstParty":return new HR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Tv.get(n);s&&(it("ComponentProvider","Removing Datastore"),Tv.delete(n),s.terminate())}(this),Promise.resolve()}}function OC(r,t,n,s={}){var l;const c=(r=ui(r,zm))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==BE&&c.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Fi(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Qe.MOCK_USER;else{_=fb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(I)}r._authCredentials=new jR(new R0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new oh(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Dl extends oh{constructor(t,n,s){super(t,n,Wc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new dt(t))}withConverter(t){return new Dl(this.firestore,t,this._path)}}function Tl(r,t,...n){if(r=en(r),arguments.length===1&&(t=C0.newId()),NC("doc","path",t),r instanceof zm){const s=oe.fromString(t,...n);return Av(s),new ln(r,null,new dt(s))}{if(!(r instanceof ln||r instanceof Dl))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return Av(s),new ln(r.firestore,r instanceof Dl?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="AsyncQueue";class Rv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vE(this,"async_queue_retry"),this.Su=()=>{const s=wd();s&&it(wv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!eo(t))throw t;it(wv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(s);throw Ki("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Vm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Iv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Xa extends zm{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Rv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rv(t),this._firestoreClient=void 0,await t}}}function MC(r,t){const n=typeof r=="object"?r:zv(),s=typeof r=="string"?r:Oc,l=rm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=cb("firestore");c&&OC(l,...c)}return l}function Bm(r){if(r._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VC(r),r._firestoreClient}function VC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new i1(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,zE(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new RC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(Be.fromBase64String(t))}catch(n){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $a(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^__.*__$/;class UC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,n,this.fieldTransforms):new kl(t,this.data,n,this.fieldTransforms)}}class HE{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new $r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function qE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class uh{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new uh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Hc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(qE(this.Lu)&&kC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class PC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rh(t)}ju(t,n,s,l=!1){return new uh({Lu:t,methodName:n,zu:s,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FE(r){const t=r._freezeSettings(),n=rh(r._databaseId);return new PC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function LC(r,t,n,s,l,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,l);Qm("Data must be an object, but it was:",f,s);const g=QE(s,f);let p,_;if(c.merge)p=new pn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const V=Jd(t,I,n);if(!f.contains(V))throw new ft($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);YE(A,V)||A.push(V)}p=new pn(A),_=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=f.fieldTransforms;return new UC(new on(g),p,_)}class ch extends jl{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ch}}function GE(r,t,n){return new uh({Lu:3,zu:t.settings.zu,methodName:r._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Fm extends jl{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=GE(this,t,!0),s=this.Hu.map(c=>io(c,n)),l=new Ga(s);return new eE(t.path,l)}isEqual(t){return t instanceof Fm&&Fi(this.Hu,t.Hu)}}class Gm extends jl{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=GE(this,t,!0),s=this.Hu.map(c=>io(c,n)),l=new Qa(s);return new eE(t.path,l)}isEqual(t){return t instanceof Gm&&Fi(this.Hu,t.Hu)}}function jC(r,t,n,s){const l=r.ju(1,t,n);Qm("Data must be an object, but it was:",l,s);const c=[],f=on.empty();Xr(s,(p,_)=>{const A=Km(t,p,n);_=en(_);const I=l.Uu(A);if(_ instanceof ch)c.push(A);else{const V=io(_,I);V!=null&&(c.push(A),f.set(A,V))}});const g=new pn(c);return new HE(f,g,l.fieldTransforms)}function zC(r,t,n,s,l,c){const f=r.ju(1,t,n),g=[Jd(t,s,n)],p=[l];if(c.length%2!=0)throw new ft($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Jd(t,c[V])),p.push(c[V+1]);const _=[],A=on.empty();for(let V=g.length-1;V>=0;--V)if(!YE(_,g[V])){const L=g[V];let G=p[V];G=en(G);const W=f.Uu(L);if(G instanceof ch)_.push(L);else{const Y=io(G,W);Y!=null&&(_.push(L),A.set(L,Y))}}const I=new pn(_);return new HE(A,I,f.fieldTransforms)}function io(r,t){if(KE(r=en(r)))return Qm("Unsupported field value:",t,r),QE(r,t);if(r instanceof jl)return function(s,l){if(!qE(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=io(g,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Lc(l.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(l.serializer,c)}}if(s instanceof Hm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:lE(l.serializer,s._byteString)};if(s instanceof ln){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof qm)return function(f,g){return{mapValue:{fields:{[U0]:{stringValue:P0},[Mc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return Am(g.serializer,_)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${jm(s)}`)}(r,t)}function QE(r,t){const n={};return N0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(r,(s,l)=>{const c=io(l,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function KE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Hm||r instanceof $a||r instanceof ln||r instanceof jl||r instanceof qm)}function Qm(r,t,n){if(!KE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=jm(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function Jd(r,t,n){if((t=en(t))instanceof lh)return t._internalPath;if(typeof t=="string")return Km(r,t);throw Hc("Field path arguments must be of type string or ",r,!1,void 0,n)}const BC=new RegExp("[~\\*/\\[\\]]");function Km(r,t,n){if(t.search(BC)>=0)throw Hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lh(...t.split("."))._internalPath}catch{throw Hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new ft($.INVALID_ARGUMENT,g+r+p)}function YE(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($E("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HC extends XE{data(){return super.data()}}function $E(r,t){return typeof t=="string"?Km(r,t):t instanceof lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Xr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Mc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ce(f.doubleValue));return new qm(c)}convertGeoPoint(t){return new Hm(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=$c(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const n=Fr(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Gt(mE(s));const l=new Il(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||Ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ZE extends XE{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($E("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class bc extends ZE{data(t={}){return super.data(t)}}class QC{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new bc(this._firestore,this._userDataWriter,s.key,s,new gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),A=f.indexOf(g.doc.key)),{type:KC(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){r=ui(r,ln);const t=ui(r.firestore,Xa);return DC(Bm(t),r._key).then(n=>tT(t,r,n))}class WE extends FC{constructor(t){super(),this.firestore=t}convertBytes(t){return new $a(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function YC(r,t,n){r=ui(r,ln);const s=ui(r.firestore,Xa),l=GC(r.converter,t,n);return JE(s,[LC(FE(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,oi.none())])}function tm(r,t,n,...s){r=ui(r,ln);const l=ui(r.firestore,Xa),c=FE(l);let f;return f=typeof(t=en(t))=="string"||t instanceof lh?zC(c,"updateDoc",r._key,t,n,s):jC(c,"updateDoc",r._key,t),JE(l,[f.toMutation(r._key,oi.exists(!0))])}function XC(r,...t){var n,s,l;r=en(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Iv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Iv(t[f])){const I=t[f];t[f]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[f+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[f+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,_,A;if(r instanceof ln)_=ui(r.firestore,Xa),A=Wc(r._key.path),p={next:I=>{t[f]&&t[f](tT(_,r,I))},error:t[f+1],complete:t[f+2]};else{const I=ui(r,oh);_=ui(I.firestore,Xa),A=I._query;const V=new WE(_);p={next:L=>{t[f]&&t[f](new QC(_,V,I,L))},error:t[f+1],complete:t[f+2]},qC(r._query)}return function(V,L,G,W){const Y=new LE(W),ct=new DE(L,Y,G);return V.asyncQueue.enqueueAndForget(async()=>IE(await Wd(V),ct)),()=>{Y.su(),V.asyncQueue.enqueueAndForget(async()=>CE(await Wd(V),ct))}}(Bm(_),A,g,p)}function JE(r,t){return function(s,l){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>yC(await CC(s),l,c)),c.promise}(Bm(r),t)}function tT(r,t,n){const s=n.docs.get(t._key),l=new WE(r);return new ZE(r,l,t._key,s,new gl(n.hasPendingWrites,n.fromCache),t.converter)}function $C(...r){return new Fm("arrayUnion",r)}function ZC(...r){return new Gm("arrayRemove",r)}(function(t,n=!0){(function(l){Ja=l})(Za),ja(new Ms("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Xa(new zR(s.getProvider("auth-internal")),new qR(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,A)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),zr(M_,V_,t),zr(M_,V_,"esm2017")})();const WC={apiKey:"AIzaSyAGfnXMlEfnz70xYULNznPNcQX1JPvxxps",authDomain:"musiclybit.firebaseapp.com",projectId:"musiclybit",storageBucket:"musiclybit.appspot.com",messagingSenderId:"538610638730",appId:"1:538610638730:web:da9dbcbf4f4fe18917b273"},eT=jv(WC),Id=UR(eT),Al=MC(eT),JC=new zi,nT=Lt.createContext(null),t2=({children:r})=>{const[t,n]=Lt.useState(null),[s,l]=Lt.useState([]),[c,f]=Lt.useState(""),[g,p]=Lt.useState(!0),_=Lt.useRef(null);Lt.useEffect(()=>{const G=Id.onAuthStateChanged(async W=>{if(W){n(W);const Y=Tl(Al,"users",W.uid);try{const ct=await qc(Y);ct.exists()?l(ct.data().favorites||[]):await YC(Y,{favorites:[]},{merge:!0}),_.current&&_.current(),_.current=XC(Y,lt=>{lt.exists()&&l(lt.data().favorites||[])})}catch(ct){console.error("Error fetching user favorites:",ct)}}else n(null),l([]),_.current&&(_.current(),_.current=null);p(!1)});return()=>{G(),_.current&&_.current()}},[]);const A=async G=>{if(t)try{const W=Tl(Al,"users",t.uid);await tm(W,{favorites:$C(G)});const Y=await qc(W);Y.exists()&&l(Y.data().favorites||[]),f("Added to your library"),setTimeout(()=>f(""),3e3)}catch(W){console.error("Error adding album: ",W)}},I=async G=>{if(t)try{const W=Tl(Al,"users",t.uid);await tm(W,{favorites:ZC(G)}),l(Y=>Y.filter(ct=>ct.id!==G.id)),f("Removed Album Successfully"),setTimeout(()=>f(""),3e3)}catch(W){console.error("Error removing album:",W)}},V=async()=>{try{const G=await Gw(Id,JC);n(G.user)}catch(G){console.error("Google Sign-In Error:",G)}},L=async()=>{try{await ww(Id),n(null),l([]),_.current&&(_.current(),_.current=null)}catch(G){console.error("Logout Error:",G)}};return j.jsx(nT.Provider,{value:{user:t,favoriteAlbums:s,setFavoriteAlbums:l,signInWithGoogle:V,logout:L,popupMessage:c,setPopupMessage:f,addFavoriteAlbum:A,removeFavoriteAlbum:I,loading:g},children:r})},zl=()=>{const r=Lt.useContext(nT);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},e2=({setFavoriteAlbums:r})=>{const t=Nv(),{setCurrentSong:n,setIsPlaying:s}=t,{user:l,popupMessage:c,setPopupMessage:f}=zl(),[g,p]=Lt.useState(null),_=L=>{L.audio&&(n==null||n(L),s==null||s(!0))},A=L=>{const G={...L,id:String(L.id),songs:(L.songs??[]).map((W,Y)=>({...W,id:W.id?String(W.id):String(Y+1)}))};p(G)},I=()=>{p(null)},V=async L=>{if(l)try{const G=Tl(Al,"users",l.uid),W=await qc(G);let Y=[];if(W.exists()&&(Y=W.data().favorites||[]),Y.some(st=>st.id===String(L.id))){f("Album already in your library"),setTimeout(()=>f(""),3e3);return}const lt=[...Y,{...L,id:String(L.id)}];await tm(G,{favorites:lt}),r(lt),f("Added to your library"),setTimeout(()=>f(""),3e3)}catch(G){console.error("Error adding album: ",G)}};return j.jsxs("div",{className:"w-[70%] max-md:w-full max-h-[90%] max-md:max-h-[92%] max-md:px-1 bg-neutral-900 text-white rounded-md relative",children:[c&&j.jsx("div",{className:"absolute bottom-[20px] left-1/2 transform -translate-x-1/2 bg-white text-black text-sm lg:text-base font-semibold px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg transition-opacity duration-500",children:c}),g?j.jsxs("div",{className:"bg-neutral-00 min-h-[100%] rounded-md flex flex-col h-full",children:[j.jsxs("div",{className:"flex flex-col items-start gap-4 mb-0 relative h-[40%] md:h-[40%] lg:h-[45%]",children:[j.jsx("button",{onClick:I,className:"flex absolute top-[6px] left-[10px] items-center justify-center gap-2 rounded-full bg-neutral-950 hover:bg-neutral-800 text-gray-300 size-8",children:j.jsx("img",{className:"w-[10px]",src:"/assets/player ico/left-arrow.svg",alt:""})}),j.jsx("img",{className:"w-full h-full object-cover object-center rounded-t-md",src:g.cover,alt:g.name}),j.jsx("div",{className:"absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black to-transparent opacity-90"}),j.jsx("div",{className:"px-5 py-2 absolute bottom-[30px] left-0",children:j.jsx("p",{className:"text-4xl max-md:text-2xl text-white font-extrabold",children:g.artist})})]}),j.jsxs("div",{className:"px-6 pb-4 flex flex-col bg-cyan-00 overflow-y-auto h-[60%] md:h-[60%] lg:h-[55%]",children:[j.jsx("h3",{className:"text-2xl font-bold mt-4 mb-2",children:"Popular"}),j.jsxs("div",{className:"space-y-2 mt-3",children:[j.jsxs("div",{className:"flex justify-between items-center w-full h-10 px-6 text-sm text-neutral-400 font-semibold border-b border-neutral-700",children:[j.jsxs("div",{className:"flex items-center gap-4 w-[40%] min-w-[200px]",children:[j.jsx("span",{children:"#"}),j.jsx("h2",{children:"Title"})]}),j.jsx("h2",{className:"w-[25%] min-w-[150px] hidden lg:block",children:"Album"}),j.jsx("h2",{className:"w-[20%] min-w-[120px] text-center",children:"Date Added"}),j.jsx("h2",{className:"w-[10%] min-w-[80px] text-right hidden lg:block pr-6",children:"Time"})]}),(g.songs??[]).map((L,G)=>j.jsxs("div",{onClick:()=>_(L),className:"flex items-center justify-between hover:bg-neutral-800 px-6 py-3 rounded-md cursor-pointer",children:[j.jsxs("div",{className:"flex items-center gap-4 w-[40%] min-w-[200px]",children:[j.jsx("span",{className:"text-base text-gray-300 font-semibold",children:G+1}),j.jsx("img",{src:L.image,alt:L.title,className:"w-10 h-10 object-cover rounded-md"}),j.jsxs("div",{children:[j.jsx("h4",{className:"text-sm font-medium text-white",children:L.title}),j.jsx("p",{className:"text-xs text-gray-400",children:g.artist})]})]}),j.jsx("div",{className:"w-[25%] min-w-[150px] hidden lg:block",children:j.jsx("h2",{className:"text-sm font-medium text-gray-400",children:g.name})}),j.jsx("div",{className:"w-[20%] min-w-[120px] text-center",children:j.jsx("h2",{className:"text-sm font-medium text-gray-400",children:L.dateAdded||"-"})}),j.jsx("div",{className:"w-[10%] min-w-[80px] text-right hidden lg:block pr-6",children:j.jsx("h2",{className:"text-sm font-medium text-gray-400",children:"3:56"})})]},L.id||G))]}),j.jsxs("div",{className:"mt-8 mb-2",children:[j.jsx("h2",{className:"text-2xl font-bold",children:"About"}),j.jsxs("div",{className:"relative w-full h-[256px] lg:h-[345px] bg-red-00 mt-4 rounded-md overflow-hidden",children:[j.jsx("img",{className:"w-full h-full object-cover object-center absolute opacity-70",src:g.aboutCover,alt:""}),j.jsx("div",{className:"absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black to-transparent opacity-90"}),j.jsxs("div",{className:"absolute bottom-[40px] left-0 w-[70%] lg:w-[50%] max-h-min ml-8 flex flex-col items-start space-y-0.5",children:[j.jsx("h2",{className:"text-[11px] md:text-[16px] font-semibold",children:"79,567,323,78 monthly listeners"}),j.jsx("h2",{className:"text-[11px] md:text-[16px] font-semibold",children:"Ed Sheeran live concert this April, Summer Music Fest 2025 hits."})]})]})]})]})]}):j.jsx(j.Fragment,{children:j.jsxs("div",{className:"px-6 py-4",children:[j.jsxs("div",{className:"flex items-center gap-3 mx-1.5 mt-2",children:[j.jsx("button",{className:"bg-green-400 text-white max-md:text-[10px] text-sm text-center max-md:px-3 max-md:py-1 px-5 py-1.5 rounded-full",children:"All"}),j.jsx("button",{className:"bg-neutral-700 text-white max-md:text-[10px] text-sm text-center max-md:px-3 max-md:py-1 px-5 py-1.5 rounded-full",children:"Music"}),j.jsx("button",{className:"bg-neutral-700 text-white max-md:text-[10px] text-sm text-center max-md:px-3 max-md:py-1 px-5 py-1.5 rounded-full",children:"Podcasts"})]}),j.jsx("div",{className:"w-full min-h-max bg-neutral-00 mt-8 rounded-md",children:j.jsx("div",{className:"grid grid-cols-2 gap-3 px-2 py-3",children:Na.map(L=>j.jsxs("div",{onClick:()=>A(L),className:"w-full max-md:h-10 h-14 bg-neutral-800 hover:bg-neutral-700 rounded-md relative group cursor-pointer",children:[j.jsxs("div",{className:"flex items-center",children:[j.jsx("img",{className:"size-14 max-md:size-10 object-center object-cover rounded-l-md",src:L.image,alt:L.name}),j.jsx("h3",{className:"ml-2 max-md:text-[12px] font-bold text-white",children:L.name})]}),j.jsx("button",{onClick:G=>{G.stopPropagation(),V(L)},className:"absolute max-md:bottom-[6px] bottom-[16px] max-md:right-[8px] right-[10px] max-md:text-[12px] opacity-0 group-hover:opacity-100 bg-reen-500 rounded-full hover:bg-reen-400 transition p-1.5",children:j.jsx(GA,{className:"w-4 h-4",fill:"red"})})]},L.id))})}),j.jsx("div",{className:"w-full min-h-max bg-neutral-00 mt-8 rounded-md",children:j.jsxs("div",{className:"pb-3 py-1",children:[j.jsx("h2",{className:"text-2xl max-md:text-xl font-bold ml-2",children:"Top Picks"}),j.jsx("div",{className:"flex overflow-x-auto gap-4",children:tb.map(L=>j.jsxs("div",{onClick:()=>_(L),className:"relative w-[160px] max-md:min-w-[160px] md:min-w-[160px] h-[200px] max-md:min-h-[190px] p-2 bg-transparent hover:bg-neutral-800 mt-4 rounded-md group cursor-pointer",children:[j.jsx("img",{className:"w-[180px] h-[130px] object-cover object-center rounded-md",src:L.image,alt:L.title}),j.jsx("p",{className:"pl-0.5 mt-2 text-sm max-md:text-[12px] font-semibold text-neutral-300",children:L.title}),j.jsx("p",{className:"pl-0.5 mt-0.5 max-md:mt-0 text-xs max-md:text-[10px] font-semibold text-neutral-300",children:L.artist}),j.jsx("button",{className:"absolute bottom-[70px] bg-green-500 rounded-full hover:bg-green-400 transition p-1.5 max-md:bottom-[70px] right-[16px] text-base opacity-0 group-hover:opacity-100",children:j.jsx(XA,{className:"w-4 h-4 text-black",fill:"black"})})]},L.id))})]})})]})})]})},n2=({favoriteAlbums:r,setFavoriteAlbums:t})=>{const{removeFavoriteAlbum:n}=zl(),[s,l]=Lt.useState(""),c=f=>{n==null||n(f),t(g=>g.filter(p=>p.id!==f.id)),l("Removed Album Successfully"),setTimeout(()=>l(""),3e3)};return j.jsxs("div",{className:"w-[30%] max-h-[90%] max-md:hidden flex flex-col p-6 bg-neutral-900 text-white rounded-md relative",children:[s&&j.jsx("div",{className:"hidden absolute top-4 left-1/2 transform -translate-x-1/2 bg-white text-black text-sm lg:text-base font-semibold px-4 py-2 rounded-lg shadow-lg transition-opacity duration-500",children:s}),j.jsxs("div",{className:"flex justify-between w-full min-h-max px-1 py-4",children:[j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{className:"hover:text-green-400 transition",children:j.jsx(KA,{className:"w-6 h-6"})}),j.jsx("h2",{children:"Library"})]}),j.jsx("button",{children:j.jsx(qA,{className:"w-6 h-6 text-white"})})]}),j.jsx("div",{className:"flex gap-2 mt-4",children:j.jsx("button",{className:"bg-neutral-700 rounded-full text-center px-3 py-1.5 text-sm",children:"Artists"})}),j.jsxs("div",{className:"flex items-baseline justify-between w-full px-1 py-4 mt-4",children:[j.jsx("button",{className:"hover:text-green-400 transition",children:j.jsx(ZA,{className:"w-5 h-5"})}),j.jsxs("button",{className:"hover:text-green-400 transition flex items-center gap-1.5",children:[j.jsx("h3",{className:"text-sm font-semibold -translate-y-0.5",children:"Recents"}),j.jsx("img",{className:"w-5 h-5",src:"/assets/player ico/recent-ico.svg",alt:""})]})]}),j.jsx("div",{className:"min-h-[256px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-neutral-900 px-1 py-4 rounded-lg mt-4",children:j.jsx("div",{className:"flex flex-col space-y-4",children:r.length>0?r.map(f=>j.jsxs("div",{className:"flex items-center gap-4 justify-between group",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("img",{className:"size-12 object-cover object-center rounded-full",src:f.image,alt:""}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-semibold text-neutral-200",children:f.name}),j.jsx("p",{className:"text-sm font-semibold text-neutral-200",children:f.artist})]})]}),j.jsx("button",{onClick:()=>c(f),className:"opacity-0 group-hover:opacity-100 transition text-red-500 hover:text-red-400",title:"Remove Album",children:j.jsx(JA,{className:"w-5 h-5"})})]},f.id)):j.jsx("p",{className:"text-sm text-neutral-400 text-center",children:"No favorite albums yet."})})})]})},i2=()=>{const{currentSong:r,isPlaying:t,setIsPlaying:n,setCurrentSong:s}=Nv(),l=Lt.useRef(new Audio),[c,f]=Lt.useState(0),[g,p]=Lt.useState(0),[_,A]=Lt.useState(0),[I,V]=Lt.useState(1),[L,G]=Lt.useState(!1);Lt.useEffect(()=>{r&&(l.current.pause(),l.current.src=r.audio,l.current.load(),l.current.onloadedmetadata=()=>{p(l.current.duration)},l.current.ontimeupdate=()=>{f(l.current.currentTime)},t&&l.current.play().catch(st=>console.error("Playback error:",st)))},[r]);const W=()=>{t?l.current.pause():l.current.play(),n(!t)},Y=()=>{const st=(_+1)%Na.length;A(st);const bt=Na[st].songs[0];bt&&(s(bt),n(!0))},ct=()=>{const st=(_-1+Na.length)%Na.length;A(st);const bt=Na[st].songs[0];bt&&(s(bt),n(!0))},lt=()=>{G(!L),l.current.muted=!L};return j.jsxs("div",{className:"w-full h-20 bg-neutral-900 fixed bottom-0 flex justify-between items-center px-2 py-1",children:[j.jsx("audio",{ref:l,controls:!0,hidden:!0}),j.jsxs("div",{className:"w-[45%] sm:w-[30%] h-20 p-[8px] bg-ed-300 flex",children:[j.jsx("div",{className:"w-[60px] h-[60px] rounded-md overflow-hidden",children:j.jsx("img",{className:"w-full h-full object-cover object-center",src:(r==null?void 0:r.image)||"https://via.placeholder.com/60",alt:""})}),j.jsxs("div",{className:"flex flex-col justify-center pl-3",children:[j.jsx("h2",{className:"max-md:text-[12px] text-sm text-white font-semibold",children:(r==null?void 0:r.title)||"No Song Playing"}),j.jsx("h2",{className:"max-md:text-[10px] text-[10px] text-white font-medium mt-0.5",children:(r==null?void 0:r.artist)||"Unknown Artist"})]})]}),j.jsxs("div",{className:"w-[55%] sm:w-[40%] h-20 px-1 py-2 bg-ellow-400 flex flex-col justify-center sm:justify-self-auto items-center",children:[j.jsxs("div",{className:"flex gap-6",children:[j.jsx("button",{onClick:ct,children:j.jsx("img",{className:"w-4",src:"/assets/player ico/backward-ico.svg",alt:""})}),j.jsx("button",{onClick:W,children:t?j.jsx("img",{className:"w-8",src:"/assets/player ico/pause-ico.svg",alt:""}):j.jsx("img",{className:"w-8",src:"/assets/player ico/play-ico.svg",alt:""})}),j.jsx("button",{onClick:Y,children:j.jsx("img",{className:"w-4",src:"/assets/player ico/forward-ico.svg",alt:""})})]}),j.jsxs("div",{className:"hidden sm:flex items-center w-full gap-4 mt-2 mb-1 relative group justify-center",children:[j.jsxs("h2",{className:"text-xs text-white font-semibold min-w-[40px] text-right",children:[Math.floor(c/60),":",String(Math.floor(c%60)).padStart(2,"0")]}),j.jsxs("div",{className:"relative flex-1 h-1 bg-neutral-600 rounded-full cursor-pointer",onClick:st=>{const bt=st.currentTarget.getBoundingClientRect(),At=(st.clientX-bt.left)/bt.width*g;l.current.currentTime=At,f(At)},children:[j.jsx("div",{className:"absolute top-0 left-0 h-full bg-cyan-400 rounded-full transition-all duration-100",style:{width:`${c/g*100}%`}}),j.jsx("div",{className:"absolute top-[-4px] transform -translate-x-1/2 w-3 h-3 bg-white rounded-full transition-all duration-100 opacity-100",style:{left:`${c/g*100}%`}})]}),j.jsxs("h2",{className:"text-xs text-white font-semibold min-w-[40px] text-left",children:[Math.floor(g/60),":",String(Math.floor(g%60)).padStart(2,"0")]})]})]}),j.jsx("div",{className:"w-[30%] h-20 p-1 bg-merald-400 hidden sm:flex justify-evenly",children:j.jsxs("div",{className:"flex justify-end items-center gap-4",children:[j.jsx("img",{className:"w-[18px]",src:"/assets/player ico/share-ico.svg",alt:""}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("button",{onClick:lt,className:"focus:outline-none",children:j.jsx("img",{className:"w-4 cursor-pointer",src:L||I===0?"/assets/player ico/mute-ico.svg":"/assets/player ico/speaker-ico.svg",alt:"Volume Control"})}),j.jsxs("div",{className:"relative w-20 h-1 bg-neutral-600 rounded-full cursor-pointer",onClick:st=>{const bt=st.currentTarget.getBoundingClientRect(),yt=(st.clientX-bt.left)/bt.width,At=Math.max(0,Math.min(1,yt));V(At),l.current.volume=At,G(At===0)},children:[j.jsx("div",{className:"absolute top-0 left-0 h-full bg-cyan-400 rounded-full transition-all duration-100",style:{width:`${I*100}%`}}),j.jsx("div",{className:"absolute top-[-4px] transform -translate-x-1/2 w-3 h-3 bg-white rounded-full transition-all duration-100 opacity-100",style:{left:`${I*100}%`}})]})]})]})})]})},r2=()=>{const[r,t]=Lt.useState(!1),{user:n,signInWithGoogle:s,logout:l}=zl(),c=Lt.useRef(null);return Lt.useEffect(()=>{t(!1)},[n]),Lt.useEffect(()=>{function f(g){c.current&&!c.current.contains(g.target)&&t(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),j.jsxs("div",{className:"flex justify-between items-center w-full h-14 bg-neutral-950 text-white relative px-4",children:[j.jsx("div",{className:"z-50",children:j.jsx("h2",{className:"text-xl font-extrabold cursor-pointer",children:"Company Name"})}),!n&&j.jsx("div",{className:"hidden xl:flex justify-center gap-3",children:j.jsx("button",{onClick:s,className:"text-[14px] text-center text-white hover:text-black hover:bg-white uppercase font-bold w-24 py-1.5 bg-transparent border-[1px] border-white",children:"Log In"})}),n?j.jsxs("div",{ref:c,className:"relative",children:[j.jsxs("button",{onClick:()=>t(!r),className:"flex items-center gap-2 cursor-pointer",children:[j.jsx("img",{className:"w-8 h-8 rounded-full border border-gray-400",src:n.photoURL||"/assets/default-profile.png",alt:"User Profile"}),j.jsx("h3",{className:"text-sm hidden md:block font-semibold",children:n.displayName||"User"}),j.jsx(BA,{size:16})]}),r&&j.jsx("div",{className:"absolute right-0 mt-2 w-24 bg-neutral-950 border border-white shadow-lg",children:j.jsx("button",{onClick:l,className:"block w-full px-4 py-2 text-xs text-white hover:bg-neutral-900 uppercase",children:"Logout"})})]}):j.jsx("button",{onClick:s,className:"xl:hidden text-[12px] text-center text-white hover:text-black hover:bg-white uppercase font-bold w-20 py-1 bg-transparent border-[1px] border-white",children:"Sign In"})]})},s2=()=>{const{user:r,logout:t,loading:n}=zl();return j.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-neutral-900 text-white",children:n?j.jsx("h2",{className:"text-xl font-semibold",children:"Checking authentication..."}):r?j.jsxs("div",{className:"text-center",children:[j.jsxs("h2",{className:"text-2xl font-bold",children:["Welcome, ",r.displayName]}),j.jsx("button",{onClick:t,className:"mt-4 px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",children:"Logout"})]}):j.jsx("div",{children:"Company Advertisment Page"})})};function a2(){const[r,t]=Lt.useState([]),{user:n,loading:s}=zl()??{};return Lt.useEffect(()=>{(async()=>{if(!n)return;const c=Tl(Al,"users",n.uid),f=await qc(c);f.exists()&&t(f.data().favorites||[])})()},[n]),s?j.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-neutral-950 text-white",children:j.jsx("h2",{className:"text-base font-semibold",children:"Loading..."})}):j.jsx(eb,{children:j.jsxs("div",{className:"w-full h-screen flex flex-col bg-neutral-950 relative overflow-hidden",children:[j.jsx("div",{className:"relative z-50",children:j.jsx(r2,{})}),n?j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex flex-1 gap-3 px-2 py-4 overflow-hidden relative z-10",children:[j.jsx(n2,{favoriteAlbums:r,setFavoriteAlbums:t}),j.jsx(e2,{setFavoriteAlbums:t})]}),j.jsx("div",{className:"relative z-20",children:j.jsx(i2,{})})]}):j.jsx(s2,{})]})})}UA.createRoot(document.getElementById("root")).render(j.jsx(Lt.StrictMode,{children:j.jsxs(t2,{children:[" ",j.jsx(a2,{})]})}));
